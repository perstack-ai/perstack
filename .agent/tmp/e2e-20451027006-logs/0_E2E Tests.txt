2025-12-23T04:05:23.4068849Z Current runner version: '2.330.0'
2025-12-23T04:05:23.4094129Z ##[group]Runner Image Provisioner
2025-12-23T04:05:23.4095428Z Hosted Compute Agent
2025-12-23T04:05:23.4096003Z Version: 20251211.462
2025-12-23T04:05:23.4096625Z Commit: 6cbad8c2bb55d58165063d031ccabf57e2d2db61
2025-12-23T04:05:23.4097383Z Build Date: 2025-12-11T16:28:49Z
2025-12-23T04:05:23.4098041Z Worker ID: {cf04ef4a-c438-43dd-a114-271966e72699}
2025-12-23T04:05:23.4098671Z ##[endgroup]
2025-12-23T04:05:23.4099386Z ##[group]Operating System
2025-12-23T04:05:23.4099958Z Ubuntu
2025-12-23T04:05:23.4100440Z 24.04.3
2025-12-23T04:05:23.4100935Z LTS
2025-12-23T04:05:23.4101389Z ##[endgroup]
2025-12-23T04:05:23.4101869Z ##[group]Runner Image
2025-12-23T04:05:23.4102451Z Image: ubuntu-24.04
2025-12-23T04:05:23.4102960Z Version: 20251215.174.1
2025-12-23T04:05:23.4104004Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20251215.174/images/ubuntu/Ubuntu2404-Readme.md
2025-12-23T04:05:23.4105586Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20251215.174
2025-12-23T04:05:23.4106663Z ##[endgroup]
2025-12-23T04:05:23.4107735Z ##[group]GITHUB_TOKEN Permissions
2025-12-23T04:05:23.4110264Z Contents: read
2025-12-23T04:05:23.4110941Z Metadata: read
2025-12-23T04:05:23.4111467Z Packages: read
2025-12-23T04:05:23.4111986Z ##[endgroup]
2025-12-23T04:05:23.4114071Z Secret source: Actions
2025-12-23T04:05:23.4114840Z Prepare workflow directory
2025-12-23T04:05:23.4612117Z Prepare all required actions
2025-12-23T04:05:23.4667270Z Getting action download info
2025-12-23T04:05:23.8341432Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2025-12-23T04:05:23.9615738Z Download action repository 'pnpm/action-setup@v4' (SHA:41ff72655975bd51cab0327fa583b6e92b6d3061)
2025-12-23T04:05:24.3414879Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-12-23T04:05:24.5390257Z Complete job name: E2E Tests
2025-12-23T04:05:24.6118013Z ##[group]Run actions/checkout@v4
2025-12-23T04:05:24.6118951Z with:
2025-12-23T04:05:24.6119638Z   repository: perstack-ai/perstack
2025-12-23T04:05:24.6120389Z   token: ***
2025-12-23T04:05:24.6120819Z   ssh-strict: true
2025-12-23T04:05:24.6121261Z   ssh-user: git
2025-12-23T04:05:24.6121706Z   persist-credentials: true
2025-12-23T04:05:24.6122200Z   clean: true
2025-12-23T04:05:24.6122652Z   sparse-checkout-cone-mode: true
2025-12-23T04:05:24.6123179Z   fetch-depth: 1
2025-12-23T04:05:24.6123619Z   fetch-tags: false
2025-12-23T04:05:24.6124076Z   show-progress: true
2025-12-23T04:05:24.6124524Z   lfs: false
2025-12-23T04:05:24.6124933Z   submodules: false
2025-12-23T04:05:24.6125376Z   set-safe-directory: true
2025-12-23T04:05:24.6126116Z env:
2025-12-23T04:05:24.6126550Z   PNPM_VERSION: 10.10.0
2025-12-23T04:05:24.6127027Z   NODE_VERSION: 22
2025-12-23T04:05:24.6127453Z ##[endgroup]
2025-12-23T04:05:24.7217293Z Syncing repository: perstack-ai/perstack
2025-12-23T04:05:24.7219773Z ##[group]Getting Git version info
2025-12-23T04:05:24.7220741Z Working directory is '/home/runner/work/perstack/perstack'
2025-12-23T04:05:24.7221805Z [command]/usr/bin/git version
2025-12-23T04:05:24.7282545Z git version 2.52.0
2025-12-23T04:05:24.7309319Z ##[endgroup]
2025-12-23T04:05:24.7331752Z Temporarily overriding HOME='/home/runner/work/_temp/b256f8d3-e9b8-4757-b27d-46f35e9b8ede' before making global git config changes
2025-12-23T04:05:24.7333404Z Adding repository directory to the temporary git global config as a safe directory
2025-12-23T04:05:24.7336796Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/perstack/perstack
2025-12-23T04:05:24.7374742Z Deleting the contents of '/home/runner/work/perstack/perstack'
2025-12-23T04:05:24.7378321Z ##[group]Initializing the repository
2025-12-23T04:05:24.7382452Z [command]/usr/bin/git init /home/runner/work/perstack/perstack
2025-12-23T04:05:24.7466663Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-12-23T04:05:24.7468724Z hint: will change to "main" in Git 3.0. To configure the initial branch name
2025-12-23T04:05:24.7470644Z hint: to use in all of your new repositories, which will suppress this warning,
2025-12-23T04:05:24.7471983Z hint: call:
2025-12-23T04:05:24.7472660Z hint:
2025-12-23T04:05:24.7473505Z hint: 	git config --global init.defaultBranch <name>
2025-12-23T04:05:24.7474184Z hint:
2025-12-23T04:05:24.7474775Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-12-23T04:05:24.7476321Z hint: 'development'. The just-created branch can be renamed via this command:
2025-12-23T04:05:24.7477396Z hint:
2025-12-23T04:05:24.7477829Z hint: 	git branch -m <name>
2025-12-23T04:05:24.7478331Z hint:
2025-12-23T04:05:24.7478988Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-12-23T04:05:24.7480322Z Initialized empty Git repository in /home/runner/work/perstack/perstack/.git/
2025-12-23T04:05:24.7482650Z [command]/usr/bin/git remote add origin https://github.com/perstack-ai/perstack
2025-12-23T04:05:24.7514014Z ##[endgroup]
2025-12-23T04:05:24.7514818Z ##[group]Disabling automatic garbage collection
2025-12-23T04:05:24.7517719Z [command]/usr/bin/git config --local gc.auto 0
2025-12-23T04:05:24.7546479Z ##[endgroup]
2025-12-23T04:05:24.7547919Z ##[group]Setting up auth
2025-12-23T04:05:24.7554395Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-12-23T04:05:24.7586234Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-12-23T04:05:24.7918523Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-12-23T04:05:24.7951370Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-12-23T04:05:24.8175344Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2025-12-23T04:05:24.8207194Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2025-12-23T04:05:24.8435596Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-12-23T04:05:24.8471323Z ##[endgroup]
2025-12-23T04:05:24.8472836Z ##[group]Fetching the repository
2025-12-23T04:05:24.8481642Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +7644e971f14d4fe91a8f828278dcca365ec0801e:refs/remotes/origin/changeset-release/main
2025-12-23T04:05:25.8631578Z From https://github.com/perstack-ai/perstack
2025-12-23T04:05:25.8633378Z  * [new ref]         7644e971f14d4fe91a8f828278dcca365ec0801e -> origin/changeset-release/main
2025-12-23T04:05:25.8668159Z ##[endgroup]
2025-12-23T04:05:25.8670212Z ##[group]Determining the checkout info
2025-12-23T04:05:25.8671821Z ##[endgroup]
2025-12-23T04:05:25.8674949Z [command]/usr/bin/git sparse-checkout disable
2025-12-23T04:05:25.8716543Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-12-23T04:05:25.8743818Z ##[group]Checking out the ref
2025-12-23T04:05:25.8747742Z [command]/usr/bin/git checkout --progress --force -B changeset-release/main refs/remotes/origin/changeset-release/main
2025-12-23T04:05:26.0746100Z Switched to a new branch 'changeset-release/main'
2025-12-23T04:05:26.0748415Z branch 'changeset-release/main' set up to track 'origin/changeset-release/main'.
2025-12-23T04:05:26.0768073Z ##[endgroup]
2025-12-23T04:05:26.0806972Z [command]/usr/bin/git log -1 --format=%H
2025-12-23T04:05:26.0829742Z 7644e971f14d4fe91a8f828278dcca365ec0801e
2025-12-23T04:05:26.1102550Z ##[group]Run pnpm/action-setup@v4
2025-12-23T04:05:26.1103694Z with:
2025-12-23T04:05:26.1104484Z   version: 10.10.0
2025-12-23T04:05:26.1105363Z   dest: ~/setup-pnpm
2025-12-23T04:05:26.1106593Z   run_install: null
2025-12-23T04:05:26.1107528Z   package_json_file: package.json
2025-12-23T04:05:26.1108626Z   standalone: false
2025-12-23T04:05:26.1109663Z env:
2025-12-23T04:05:26.1110463Z   PNPM_VERSION: 10.10.0
2025-12-23T04:05:26.1111401Z   NODE_VERSION: 22
2025-12-23T04:05:26.1112257Z ##[endgroup]
2025-12-23T04:05:26.1674278Z ##[group]Running self-installer...
2025-12-23T04:05:26.7059614Z Progress: resolved 1, reused 0, downloaded 0, added 0
2025-12-23T04:05:26.7144344Z Packages: +1
2025-12-23T04:05:26.7144774Z +
2025-12-23T04:05:27.1899506Z Progress: resolved 1, reused 0, downloaded 1, added 1, done
2025-12-23T04:05:27.2167936Z 
2025-12-23T04:05:27.2168224Z dependencies:
2025-12-23T04:05:27.2168663Z + pnpm 10.10.0 (10.26.1 is available)
2025-12-23T04:05:27.2168999Z 
2025-12-23T04:05:27.2200142Z Done in 887ms
2025-12-23T04:05:27.2373194Z ##[endgroup]
2025-12-23T04:05:27.2378190Z Installation Completed!
2025-12-23T04:05:27.2518406Z ##[group]Run actions/setup-node@v4
2025-12-23T04:05:27.2518725Z with:
2025-12-23T04:05:27.2518915Z   node-version: 22
2025-12-23T04:05:27.2519122Z   cache: pnpm
2025-12-23T04:05:27.2519737Z   always-auth: false
2025-12-23T04:05:27.2519960Z   check-latest: false
2025-12-23T04:05:27.2520289Z   token: ***
2025-12-23T04:05:27.2520473Z env:
2025-12-23T04:05:27.2520649Z   PNPM_VERSION: 10.10.0
2025-12-23T04:05:27.2520864Z   NODE_VERSION: 22
2025-12-23T04:05:27.2521113Z   PNPM_HOME: /home/runner/setup-pnpm/node_modules/.bin
2025-12-23T04:05:27.2521411Z ##[endgroup]
2025-12-23T04:05:27.4414845Z Found in cache @ /opt/hostedtoolcache/node/22.21.1/x64
2025-12-23T04:05:27.4415771Z ##[group]Environment details
2025-12-23T04:05:30.3901194Z node: v22.21.1
2025-12-23T04:05:30.3901952Z npm: 10.9.4
2025-12-23T04:05:30.3902271Z yarn: 1.22.22
2025-12-23T04:05:30.3903445Z ##[endgroup]
2025-12-23T04:05:30.3933852Z [command]/home/runner/setup-pnpm/node_modules/.bin/pnpm store path --silent
2025-12-23T04:05:30.9935785Z /home/runner/setup-pnpm/node_modules/.bin/store/v10
2025-12-23T04:05:31.1263916Z Cache hit for: node-cache-Linux-x64-pnpm-2a7ce537937d2d65a84cef48098b754f0a9c5c36b31f9d81b8fa1f03a869feea
2025-12-23T04:05:31.9312299Z Received 95337082 of 95337082 (100.0%), 128.1 MBs/sec
2025-12-23T04:05:31.9314662Z Cache Size: ~91 MB (95337082 B)
2025-12-23T04:05:31.9354794Z [command]/usr/bin/tar -xf /home/runner/work/_temp/420db999-df2c-48bd-9984-f3184fb32b1a/cache.tzst -P -C /home/runner/work/perstack/perstack --use-compress-program unzstd
2025-12-23T04:05:33.0164517Z Cache restored successfully
2025-12-23T04:05:33.0359847Z Cache restored from key: node-cache-Linux-x64-pnpm-2a7ce537937d2d65a84cef48098b754f0a9c5c36b31f9d81b8fa1f03a869feea
2025-12-23T04:05:33.0534993Z ##[group]Run pnpm install --frozen-lockfile
2025-12-23T04:05:33.0535404Z [36;1mpnpm install --frozen-lockfile[0m
2025-12-23T04:05:33.0576255Z shell: /usr/bin/bash -e {0}
2025-12-23T04:05:33.0576507Z env:
2025-12-23T04:05:33.0576704Z   PNPM_VERSION: 10.10.0
2025-12-23T04:05:33.0576926Z   NODE_VERSION: 22
2025-12-23T04:05:33.0577214Z   PNPM_HOME: /home/runner/setup-pnpm/node_modules/.bin
2025-12-23T04:05:33.0577523Z ##[endgroup]
2025-12-23T04:05:33.4006576Z Scope: all 27 workspace projects
2025-12-23T04:05:33.4677024Z Lockfile is up to date, resolution step is skipped
2025-12-23T04:05:33.5157478Z Progress: resolved 1, reused 0, downloaded 0, added 0
2025-12-23T04:05:33.6290874Z Packages: +564
2025-12-23T04:05:33.6295772Z ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
2025-12-23T04:05:34.4623757Z Progress: resolved 564, reused 564, downloaded 0, added 564, done
2025-12-23T04:05:34.8657553Z 
2025-12-23T04:05:34.8658200Z devDependencies:
2025-12-23T04:05:34.8658834Z + @biomejs/biome 2.3.10
2025-12-23T04:05:34.8659616Z + @changesets/changelog-github 0.5.2
2025-12-23T04:05:34.8660159Z + @changesets/cli 2.29.8
2025-12-23T04:05:34.8660650Z + @tsconfig/node22 22.0.5
2025-12-23T04:05:34.8661116Z + @types/node 25.0.3
2025-12-23T04:05:34.8661598Z + @vitest/coverage-v8 4.0.16
2025-12-23T04:05:34.8662033Z + dotenv 17.2.3
2025-12-23T04:05:34.8662822Z + knip 5.75.1
2025-12-23T04:05:34.8663192Z + tsup 8.5.1
2025-12-23T04:05:34.8663606Z + tsx 4.21.0
2025-12-23T04:05:34.8664016Z + turbo 2.7.1
2025-12-23T04:05:34.8664434Z + typescript 5.9.3
2025-12-23T04:05:34.8664834Z + vitest 4.0.16
2025-12-23T04:05:34.8665071Z 
2025-12-23T04:05:34.8666015Z ╭ Warning ─────────────────────────────────────────────────────────────────────╮
2025-12-23T04:05:34.8667064Z │                                                                              │
2025-12-23T04:05:34.8668124Z │   Ignored build scripts: esbuild, msw.                                       │
2025-12-23T04:05:34.8669712Z │   Run "pnpm approve-builds" to pick which dependencies should be allowed     │
2025-12-23T04:05:34.8670966Z │   to run scripts.                                                            │
2025-12-23T04:05:34.8671993Z │                                                                              │
2025-12-23T04:05:34.8673121Z ╰──────────────────────────────────────────────────────────────────────────────╯
2025-12-23T04:05:34.8673571Z 
2025-12-23T04:05:34.9736401Z Done in 1.8s using pnpm v10.10.0
2025-12-23T04:05:34.9896678Z ##[group]Run pnpm run build
2025-12-23T04:05:34.9896986Z [36;1mpnpm run build[0m
2025-12-23T04:05:34.9930013Z shell: /usr/bin/bash -e {0}
2025-12-23T04:05:34.9930257Z env:
2025-12-23T04:05:34.9930446Z   PNPM_VERSION: 10.10.0
2025-12-23T04:05:34.9930658Z   NODE_VERSION: 22
2025-12-23T04:05:34.9930912Z   PNPM_HOME: /home/runner/setup-pnpm/node_modules/.bin
2025-12-23T04:05:34.9931242Z ##[endgroup]
2025-12-23T04:05:35.2760184Z 
2025-12-23T04:05:35.2761155Z > perstack-monorepo@ build /home/runner/work/perstack/perstack
2025-12-23T04:05:35.2761706Z > turbo run build
2025-12-23T04:05:35.2761884Z 
2025-12-23T04:05:35.3335949Z 
2025-12-23T04:05:35.3336530Z Attention:
2025-12-23T04:05:35.3338109Z Turborepo now collects completely anonymous telemetry regarding usage.
2025-12-23T04:05:35.3340097Z This information is used to shape the Turborepo roadmap and prioritize features.
2025-12-23T04:05:35.3342529Z You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
2025-12-23T04:05:35.3344052Z https://turborepo.com/docs/telemetry
2025-12-23T04:05:35.3345923Z 
2025-12-23T04:05:35.4180484Z • Packages in scope: @perstack/anthropic-provider, @perstack/api-client, @perstack/azure-openai-provider, @perstack/base, @perstack/bedrock-provider, @perstack/claude-code, @perstack/core, @perstack/cursor, @perstack/deepseek-provider, @perstack/docker, @perstack/e2e-mcp-server, @perstack/filesystem-storage, @perstack/gemini, @perstack/google-provider, @perstack/mock, @perstack/ollama-provider, @perstack/openai-provider, @perstack/provider-core, @perstack/r2-storage, @perstack/runner, @perstack/runtime, @perstack/s3-compatible-storage, @perstack/s3-storage, @perstack/vertex-provider, create-expert, perstack
2025-12-23T04:05:35.4184461Z • Running build in 26 packages
2025-12-23T04:05:35.4185022Z • Remote caching disabled
2025-12-23T04:05:55.6434159Z ##[group]@perstack/mock:build
2025-12-23T04:05:55.6438543Z cache miss, executing 118d1d79c4cf6a11
2025-12-23T04:05:55.6442605Z 
2025-12-23T04:05:55.6446618Z > @perstack/mock@0.0.3 build /home/runner/work/perstack/perstack/packages/mock
2025-12-23T04:05:55.6451202Z > pnpm run clean && tsup --config ../../tsup.config.ts
2025-12-23T04:05:55.6455113Z 
2025-12-23T04:05:55.6458556Z 
2025-12-23T04:05:55.6463376Z > @perstack/mock@0.0.3 clean /home/runner/work/perstack/perstack/packages/mock
2025-12-23T04:05:55.6484115Z > rm -rf dist
2025-12-23T04:05:55.6485387Z 
2025-12-23T04:05:55.6487158Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:55.6490978Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:55.6492810Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:55.6494960Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:55.6496901Z [34mCLI[39m Target: node22
2025-12-23T04:05:55.6499037Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:55.6501042Z [34mESM[39m Build start
2025-12-23T04:05:55.6503066Z [32mESM[39m [1mdist/src/index.js     [22m[32m2.30 KB[39m
2025-12-23T04:05:55.6505068Z [32mESM[39m [1mdist/src/index.js.map [22m[32m5.11 KB[39m
2025-12-23T04:05:55.6506966Z [32mESM[39m ⚡️ Build success in 427ms
2025-12-23T04:05:55.6508905Z [34mDTS[39m Build start
2025-12-23T04:05:55.6511063Z [32mDTS[39m ⚡️ Build success in 14379ms
2025-12-23T04:05:55.6513182Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m675.00 B[39m
2025-12-23T04:05:55.6515239Z ##[endgroup]
2025-12-23T04:05:56.5261203Z ##[group]@perstack/gemini:build
2025-12-23T04:05:56.5262534Z cache miss, executing c794b114060b300e
2025-12-23T04:05:56.5287784Z 
2025-12-23T04:05:56.5288847Z > @perstack/gemini@0.0.3 build /home/runner/work/perstack/perstack/packages/runtimes/gemini
2025-12-23T04:05:56.5290392Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:05:56.5291071Z 
2025-12-23T04:05:56.5291319Z 
2025-12-23T04:05:56.5292163Z > @perstack/gemini@0.0.3 clean /home/runner/work/perstack/perstack/packages/runtimes/gemini
2025-12-23T04:05:56.5293581Z > rm -rf dist
2025-12-23T04:05:56.5360719Z 
2025-12-23T04:05:56.5420820Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:56.5421917Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:56.5422818Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:56.5423916Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:56.5424973Z [34mCLI[39m Target: node22
2025-12-23T04:05:56.5425821Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:56.5426827Z [34mESM[39m Build start
2025-12-23T04:05:56.5427777Z [32mESM[39m [1mdist/src/index.js     [22m[32m8.77 KB[39m
2025-12-23T04:05:56.5428845Z [32mESM[39m [1mdist/src/index.js.map [22m[32m19.09 KB[39m
2025-12-23T04:05:56.5430106Z [32mESM[39m ⚡️ Build success in 468ms
2025-12-23T04:05:56.5430876Z [34mDTS[39m Build start
2025-12-23T04:05:56.5431712Z [32mDTS[39m ⚡️ Build success in 15316ms
2025-12-23T04:05:56.5432688Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m1.55 KB[39m
2025-12-23T04:05:56.5433737Z ##[endgroup]
2025-12-23T04:05:57.2381570Z ##[group]@perstack/claude-code:build
2025-12-23T04:05:57.2440152Z cache miss, executing 05f102a147f0a516
2025-12-23T04:05:57.2441230Z 
2025-12-23T04:05:57.2442037Z > @perstack/claude-code@0.0.3 build /home/runner/work/perstack/perstack/packages/runtimes/claude-code
2025-12-23T04:05:57.2443042Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:05:57.2443439Z 
2025-12-23T04:05:57.2443467Z 
2025-12-23T04:05:57.2444195Z > @perstack/claude-code@0.0.3 clean /home/runner/work/perstack/perstack/packages/runtimes/claude-code
2025-12-23T04:05:57.2445090Z > rm -rf dist
2025-12-23T04:05:57.2445282Z 
2025-12-23T04:05:57.2445935Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:57.2446669Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:57.2447255Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:57.2448140Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:57.2448900Z [34mCLI[39m Target: node22
2025-12-23T04:05:57.2449644Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:57.2450172Z [34mESM[39m Build start
2025-12-23T04:05:57.2450884Z [32mESM[39m [1mdist/src/index.js     [22m[32m8.96 KB[39m
2025-12-23T04:05:57.2451651Z [32mESM[39m [1mdist/src/index.js.map [22m[32m19.21 KB[39m
2025-12-23T04:05:57.2452359Z [32mESM[39m ⚡️ Build success in 525ms
2025-12-23T04:05:57.2452869Z [34mDTS[39m Build start
2025-12-23T04:05:57.2453407Z [32mDTS[39m ⚡️ Build success in 15750ms
2025-12-23T04:05:57.2454145Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m1.48 KB[39m
2025-12-23T04:05:57.2454966Z ##[endgroup]
2025-12-23T04:05:57.4703610Z ##[group]@perstack/filesystem-storage:build
2025-12-23T04:05:57.4854677Z cache miss, executing 7f9a057869ef111b
2025-12-23T04:05:57.4855535Z 
2025-12-23T04:05:57.4921331Z > @perstack/filesystem-storage@0.0.3 build /home/runner/work/perstack/perstack/packages/storages/filesystem
2025-12-23T04:05:57.4922683Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:05:57.4923200Z 
2025-12-23T04:05:57.4923368Z 
2025-12-23T04:05:57.4924376Z > @perstack/filesystem-storage@0.0.3 clean /home/runner/work/perstack/perstack/packages/storages/filesystem
2025-12-23T04:05:57.4925406Z > rm -rf dist
2025-12-23T04:05:57.4925768Z 
2025-12-23T04:05:57.4926609Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:57.4927544Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:57.4928299Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:57.4932162Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:57.4933169Z [34mCLI[39m Target: node22
2025-12-23T04:05:57.4933757Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:57.4934268Z [34mESM[39m Build start
2025-12-23T04:05:57.4934955Z [32mESM[39m [1mdist/src/index.js     [22m[32m13.74 KB[39m
2025-12-23T04:05:57.4936365Z [32mESM[39m [1mdist/src/index.js.map [22m[32m33.23 KB[39m
2025-12-23T04:05:57.4937173Z [32mESM[39m ⚡️ Build success in 697ms
2025-12-23T04:05:57.4937834Z [34mDTS[39m Build start
2025-12-23T04:05:57.4938429Z [32mDTS[39m ⚡️ Build success in 16163ms
2025-12-23T04:05:57.4939352Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m3.10 KB[39m
2025-12-23T04:05:57.4940249Z ##[endgroup]
2025-12-23T04:05:58.8493504Z ##[group]@perstack/docker:build
2025-12-23T04:05:58.8520267Z cache miss, executing 22a73c97c6f19696
2025-12-23T04:05:58.8520612Z 
2025-12-23T04:05:58.8521209Z > @perstack/docker@0.0.3 build /home/runner/work/perstack/perstack/packages/runtimes/docker
2025-12-23T04:05:58.8522141Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:05:58.8522521Z 
2025-12-23T04:05:58.8522530Z 
2025-12-23T04:05:58.8523119Z > @perstack/docker@0.0.3 clean /home/runner/work/perstack/perstack/packages/runtimes/docker
2025-12-23T04:05:58.8523845Z > rm -rf dist
2025-12-23T04:05:58.8524026Z 
2025-12-23T04:05:58.8524720Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:58.8525422Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:58.8525950Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:58.8526722Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:58.8527421Z [34mCLI[39m Target: node22
2025-12-23T04:05:58.8527930Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:58.8528411Z [34mESM[39m Build start
2025-12-23T04:05:58.8529047Z [32mESM[39m [1mdist/src/index.js     [22m[32m34.78 KB[39m
2025-12-23T04:05:58.8530086Z [32mESM[39m [1mdist/src/index.js.map [22m[32m79.37 KB[39m
2025-12-23T04:05:58.8530824Z [32mESM[39m ⚡️ Build success in 1382ms
2025-12-23T04:05:58.8531331Z [34mDTS[39m Build start
2025-12-23T04:05:58.8531860Z [32mDTS[39m ⚡️ Build success in 17746ms
2025-12-23T04:05:58.8532559Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m5.54 KB[39m
2025-12-23T04:05:58.8533342Z ##[endgroup]
2025-12-23T04:05:58.9197474Z ##[group]@perstack/anthropic-provider:build
2025-12-23T04:05:58.9198916Z cache miss, executing 67c506cd88c890e2
2025-12-23T04:05:58.9199922Z 
2025-12-23T04:05:58.9200925Z > @perstack/anthropic-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/anthropic
2025-12-23T04:05:58.9202148Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:05:58.9202736Z 
2025-12-23T04:05:58.9202905Z 
2025-12-23T04:05:58.9203838Z > @perstack/anthropic-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/anthropic
2025-12-23T04:05:58.9204840Z > rm -rf dist
2025-12-23T04:05:58.9205192Z 
2025-12-23T04:05:58.9205890Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:05:58.9206758Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:58.9207484Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:58.9208848Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/anthropic/tsup.config.ts
2025-12-23T04:05:58.9239951Z [34mCLI[39m Target: es2022
2025-12-23T04:05:58.9240947Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:58.9241540Z [34mESM[39m Build start
2025-12-23T04:05:58.9242243Z [32mESM[39m [1mdist/index.js     [22m[32m4.48 KB[39m
2025-12-23T04:05:58.9243060Z [32mESM[39m [1mdist/index.js.map [22m[32m9.46 KB[39m
2025-12-23T04:05:58.9243773Z [32mESM[39m ⚡️ Build success in 81ms
2025-12-23T04:05:58.9244277Z [34mDTS[39m Build start
2025-12-23T04:05:58.9244856Z [32mDTS[39m ⚡️ Build success in 17653ms
2025-12-23T04:05:58.9245608Z [32mDTS[39m [1mdist/index.d.ts [22m[32m1.67 KB[39m
2025-12-23T04:05:58.9246419Z ##[endgroup]
2025-12-23T04:05:59.4165954Z ##[group]@perstack/s3-storage:build
2025-12-23T04:05:59.4167174Z cache miss, executing ab45630a7a8b83e5
2025-12-23T04:05:59.4167830Z 
2025-12-23T04:05:59.4173855Z > @perstack/s3-storage@0.0.3 build /home/runner/work/perstack/perstack/packages/storages/aws-s3
2025-12-23T04:05:59.4175460Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:05:59.4176139Z 
2025-12-23T04:05:59.4176299Z 
2025-12-23T04:05:59.4200904Z > @perstack/s3-storage@0.0.3 clean /home/runner/work/perstack/perstack/packages/storages/aws-s3
2025-12-23T04:05:59.4202241Z > rm -rf dist
2025-12-23T04:05:59.4202907Z 
2025-12-23T04:05:59.4203791Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:59.4204728Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:59.4205478Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:59.4206500Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:59.4207440Z [34mCLI[39m Target: node22
2025-12-23T04:05:59.4208182Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:59.4208870Z [34mESM[39m Build start
2025-12-23T04:05:59.4210502Z [32mESM[39m [1mdist/src/index.js     [22m[32m872.00 B[39m
2025-12-23T04:05:59.4211546Z [32mESM[39m [1mdist/src/index.js.map [22m[32m1.77 KB[39m
2025-12-23T04:05:59.4212470Z [32mESM[39m ⚡️ Build success in 330ms
2025-12-23T04:05:59.4213162Z [34mDTS[39m Build start
2025-12-23T04:05:59.4213920Z [32mDTS[39m ⚡️ Build success in 18190ms
2025-12-23T04:05:59.4214850Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m436.00 B[39m
2025-12-23T04:05:59.4215853Z ##[endgroup]
2025-12-23T04:05:59.4244544Z ##[group]@perstack/vertex-provider:build
2025-12-23T04:05:59.4279047Z cache miss, executing 4bf408183bf2a63a
2025-12-23T04:05:59.4279573Z 
2025-12-23T04:05:59.4280304Z > @perstack/vertex-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/vertex
2025-12-23T04:05:59.4281285Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:05:59.4281657Z 
2025-12-23T04:05:59.4281667Z 
2025-12-23T04:05:59.4282365Z > @perstack/vertex-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/vertex
2025-12-23T04:05:59.4283158Z > rm -rf dist
2025-12-23T04:05:59.4283356Z 
2025-12-23T04:05:59.4283844Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:05:59.4284524Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:59.4285075Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:59.4286793Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/vertex/tsup.config.ts
2025-12-23T04:05:59.4287748Z [34mCLI[39m Target: es2022
2025-12-23T04:05:59.4288289Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:59.4288813Z [34mESM[39m Build start
2025-12-23T04:05:59.4289662Z [32mESM[39m [1mdist/index.js     [22m[32m4.10 KB[39m
2025-12-23T04:05:59.4290475Z [32mESM[39m [1mdist/index.js.map [22m[32m8.24 KB[39m
2025-12-23T04:05:59.4291170Z [32mESM[39m ⚡️ Build success in 67ms
2025-12-23T04:05:59.4291700Z [34mDTS[39m Build start
2025-12-23T04:05:59.4292263Z [32mDTS[39m ⚡️ Build success in 18036ms
2025-12-23T04:05:59.4292988Z [32mDTS[39m [1mdist/index.d.ts [22m[32m1016.00 B[39m
2025-12-23T04:05:59.4293845Z ##[endgroup]
2025-12-23T04:05:59.4691822Z ##[group]@perstack/s3-compatible-storage:build
2025-12-23T04:05:59.4766345Z cache miss, executing f8e037217c073164
2025-12-23T04:05:59.4766728Z 
2025-12-23T04:05:59.4767620Z > @perstack/s3-compatible-storage@0.0.3 build /home/runner/work/perstack/perstack/packages/storages/s3-compatible
2025-12-23T04:05:59.4768676Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:05:59.4769025Z 
2025-12-23T04:05:59.4769033Z 
2025-12-23T04:05:59.4769910Z > @perstack/s3-compatible-storage@0.0.3 clean /home/runner/work/perstack/perstack/packages/storages/s3-compatible
2025-12-23T04:05:59.4770720Z > rm -rf dist
2025-12-23T04:05:59.4770909Z 
2025-12-23T04:05:59.4771534Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:05:59.4772186Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:05:59.4772758Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:05:59.4773671Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:05:59.4774433Z [34mCLI[39m Target: node22
2025-12-23T04:05:59.4775011Z [34mCLI[39m Cleaning output folder
2025-12-23T04:05:59.4775533Z [34mESM[39m Build start
2025-12-23T04:05:59.4776571Z [32mESM[39m [1mdist/src/index.js     [22m[32m9.63 KB[39m
2025-12-23T04:05:59.4777557Z [32mESM[39m [1mdist/src/index.js.map [22m[32m22.63 KB[39m
2025-12-23T04:05:59.4778366Z [32mESM[39m ⚡️ Build success in 751ms
2025-12-23T04:05:59.4778942Z [34mDTS[39m Build start
2025-12-23T04:05:59.4779732Z [32mDTS[39m ⚡️ Build success in 18262ms
2025-12-23T04:05:59.4780551Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m2.51 KB[39m
2025-12-23T04:05:59.4781689Z ##[endgroup]
2025-12-23T04:06:18.9369485Z ##[group]@perstack/cursor:build
2025-12-23T04:06:18.9370564Z cache miss, executing 4cdb2d23fe872835
2025-12-23T04:06:18.9371065Z 
2025-12-23T04:06:18.9371893Z > @perstack/cursor@0.0.3 build /home/runner/work/perstack/perstack/packages/runtimes/cursor
2025-12-23T04:06:18.9373065Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:06:18.9373648Z 
2025-12-23T04:06:18.9373843Z 
2025-12-23T04:06:18.9374653Z > @perstack/cursor@0.0.3 clean /home/runner/work/perstack/perstack/packages/runtimes/cursor
2025-12-23T04:06:18.9375560Z > rm -rf dist
2025-12-23T04:06:18.9375901Z 
2025-12-23T04:06:18.9376691Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:06:18.9377591Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:18.9378322Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:18.9379625Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:06:18.9380630Z [34mCLI[39m Target: node22
2025-12-23T04:06:18.9381379Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:18.9382067Z [34mESM[39m Build start
2025-12-23T04:06:18.9382948Z [32mESM[39m [1mdist/src/index.js     [22m[32m8.63 KB[39m
2025-12-23T04:06:18.9384006Z [32mESM[39m [1mdist/src/index.js.map [22m[32m19.15 KB[39m
2025-12-23T04:06:18.9384979Z [32mESM[39m ⚡️ Build success in 322ms
2025-12-23T04:06:18.9385754Z [34mDTS[39m Build start
2025-12-23T04:06:18.9386552Z [32mDTS[39m ⚡️ Build success in 14583ms
2025-12-23T04:06:18.9387550Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m1.52 KB[39m
2025-12-23T04:06:18.9388586Z ##[endgroup]
2025-12-23T04:06:19.9134700Z ##[group]@perstack/ollama-provider:build
2025-12-23T04:06:19.9135425Z cache miss, executing 322de23281d6fec7
2025-12-23T04:06:19.9135746Z 
2025-12-23T04:06:19.9136399Z > @perstack/ollama-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/ollama
2025-12-23T04:06:19.9137358Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:19.9137742Z 
2025-12-23T04:06:19.9137754Z 
2025-12-23T04:06:19.9138466Z > @perstack/ollama-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/ollama
2025-12-23T04:06:19.9139539Z > rm -rf dist
2025-12-23T04:06:19.9139748Z 
2025-12-23T04:06:19.9140347Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:19.9141063Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:19.9142078Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:19.9143266Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/ollama/tsup.config.ts
2025-12-23T04:06:19.9144205Z [34mCLI[39m Target: es2022
2025-12-23T04:06:19.9144763Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:19.9145298Z [34mESM[39m Build start
2025-12-23T04:06:19.9146014Z [32mESM[39m [1mdist/index.js     [22m[32m2.47 KB[39m
2025-12-23T04:06:19.9146867Z [32mESM[39m [1mdist/index.js.map [22m[32m5.09 KB[39m
2025-12-23T04:06:19.9147606Z [32mESM[39m ⚡️ Build success in 41ms
2025-12-23T04:06:19.9148174Z [34mDTS[39m Build start
2025-12-23T04:06:19.9148794Z [32mDTS[39m ⚡️ Build success in 16361ms
2025-12-23T04:06:19.9149791Z [32mDTS[39m [1mdist/index.d.ts [22m[32m850.00 B[39m
2025-12-23T04:06:19.9150561Z ##[endgroup]
2025-12-23T04:06:21.7931727Z ##[group]@perstack/google-provider:build
2025-12-23T04:06:21.7934060Z cache miss, executing 6aae6834656178bc
2025-12-23T04:06:21.7951322Z 
2025-12-23T04:06:21.7953334Z > @perstack/google-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/google
2025-12-23T04:06:21.7955915Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:21.7957528Z 
2025-12-23T04:06:21.7968485Z 
2025-12-23T04:06:21.7971399Z > @perstack/google-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/google
2025-12-23T04:06:21.7974013Z > rm -rf dist
2025-12-23T04:06:21.7976006Z 
2025-12-23T04:06:21.7978237Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:21.7980558Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:21.7982166Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:21.7983625Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/google/tsup.config.ts
2025-12-23T04:06:21.7984659Z [34mCLI[39m Target: es2022
2025-12-23T04:06:21.7985263Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:21.7985823Z [34mESM[39m Build start
2025-12-23T04:06:21.7986644Z [32mESM[39m [1mdist/index.js     [22m[32m4.20 KB[39m
2025-12-23T04:06:21.7987569Z [32mESM[39m [1mdist/index.js.map [22m[32m8.11 KB[39m
2025-12-23T04:06:21.7988335Z [32mESM[39m ⚡️ Build success in 56ms
2025-12-23T04:06:21.7988885Z [34mDTS[39m Build start
2025-12-23T04:06:21.7989870Z [32mDTS[39m ⚡️ Build success in 17538ms
2025-12-23T04:06:21.7990603Z [32mDTS[39m [1mdist/index.d.ts [22m[32m1.32 KB[39m
2025-12-23T04:06:21.7991429Z ##[endgroup]
2025-12-23T04:06:22.2521495Z ##[group]@perstack/provider-core:build
2025-12-23T04:06:22.2571073Z cache miss, executing c5ce480b53d0190f
2025-12-23T04:06:22.2603940Z 
2025-12-23T04:06:22.2605098Z > @perstack/provider-core@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/core
2025-12-23T04:06:22.2606115Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:22.2606479Z 
2025-12-23T04:06:22.2606499Z 
2025-12-23T04:06:22.2607205Z > @perstack/provider-core@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/core
2025-12-23T04:06:22.2608077Z > rm -rf dist
2025-12-23T04:06:22.2608284Z 
2025-12-23T04:06:22.2608900Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:22.2609800Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:22.2610365Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:22.2611506Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/core/tsup.config.ts
2025-12-23T04:06:22.2612453Z [34mCLI[39m Target: es2022
2025-12-23T04:06:22.2613013Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:22.2613543Z [34mESM[39m Build start
2025-12-23T04:06:22.2614222Z [32mESM[39m [1mdist/index.js     [22m[32m1.39 KB[39m
2025-12-23T04:06:22.2615033Z [32mESM[39m [1mdist/index.js.map [22m[32m3.12 KB[39m
2025-12-23T04:06:22.2615770Z [32mESM[39m ⚡️ Build success in 25ms
2025-12-23T04:06:22.2616301Z [34mDTS[39m Build start
2025-12-23T04:06:22.2616874Z [32mDTS[39m ⚡️ Build success in 16580ms
2025-12-23T04:06:22.2617621Z [32mDTS[39m [1mdist/index.d.ts [22m[32m3.80 KB[39m
2025-12-23T04:06:22.2618886Z ##[endgroup]
2025-12-23T04:06:22.7510982Z ##[group]@perstack/core:build
2025-12-23T04:06:22.7570493Z cache miss, executing 54aed5d63a530bfd
2025-12-23T04:06:22.7570893Z 
2025-12-23T04:06:22.7571494Z > @perstack/core@0.0.27 build /home/runner/work/perstack/perstack/packages/core
2025-12-23T04:06:22.7572376Z > pnpm run clean && tsup --config ../../tsup.config.ts
2025-12-23T04:06:22.7572763Z 
2025-12-23T04:06:22.7572773Z 
2025-12-23T04:06:22.7573278Z > @perstack/core@0.0.27 clean /home/runner/work/perstack/perstack/packages/core
2025-12-23T04:06:22.7573927Z > rm -rf dist
2025-12-23T04:06:22.7574122Z 
2025-12-23T04:06:22.7574822Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:06:22.7575580Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:22.7576139Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:22.7576970Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:06:22.7577675Z [34mCLI[39m Target: node22
2025-12-23T04:06:22.7578243Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:22.7579122Z [34mESM[39m Build start
2025-12-23T04:06:22.7580910Z [32mESM[39m [1mdist/src/index.js     [22m[32m43.46 KB[39m
2025-12-23T04:06:22.7581819Z [32mESM[39m [1mdist/src/index.js.map [22m[32m130.36 KB[39m
2025-12-23T04:06:22.7582608Z [32mESM[39m ⚡️ Build success in 1130ms
2025-12-23T04:06:22.7583136Z [34mDTS[39m Build start
2025-12-23T04:06:22.7583677Z [32mDTS[39m ⚡️ Build success in 19656ms
2025-12-23T04:06:22.7584415Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m158.89 KB[39m
2025-12-23T04:06:22.7585224Z ##[endgroup]
2025-12-23T04:06:23.0651254Z ##[group]@perstack/bedrock-provider:build
2025-12-23T04:06:23.0652174Z cache miss, executing 50bbbbee408f1ebb
2025-12-23T04:06:23.0652534Z 
2025-12-23T04:06:23.0653277Z > @perstack/bedrock-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/bedrock
2025-12-23T04:06:23.0654271Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:23.0654672Z 
2025-12-23T04:06:23.0654680Z 
2025-12-23T04:06:23.0655427Z > @perstack/bedrock-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/bedrock
2025-12-23T04:06:23.0656250Z > rm -rf dist
2025-12-23T04:06:23.0656455Z 
2025-12-23T04:06:23.0657035Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:23.0657708Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:23.0658262Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:23.0659549Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/bedrock/tsup.config.ts
2025-12-23T04:06:23.0660453Z [34mCLI[39m Target: es2022
2025-12-23T04:06:23.0660998Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:23.0661503Z [34mESM[39m Build start
2025-12-23T04:06:23.0662151Z [32mESM[39m [1mdist/index.js     [22m[32m3.37 KB[39m
2025-12-23T04:06:23.0662904Z [32mESM[39m [1mdist/index.js.map [22m[32m6.59 KB[39m
2025-12-23T04:06:23.0663558Z [32mESM[39m ⚡️ Build success in 80ms
2025-12-23T04:06:23.0664065Z [34mDTS[39m Build start
2025-12-23T04:06:23.0664644Z [32mDTS[39m ⚡️ Build success in 15927ms
2025-12-23T04:06:23.0665368Z [32mDTS[39m [1mdist/index.d.ts [22m[32m909.00 B[39m
2025-12-23T04:06:23.0666160Z ##[endgroup]
2025-12-23T04:06:23.3986571Z ##[group]@perstack/r2-storage:build
2025-12-23T04:06:23.3992125Z cache miss, executing a8aa5f43f9626902
2025-12-23T04:06:23.3992830Z 
2025-12-23T04:06:23.3997349Z > @perstack/r2-storage@0.0.3 build /home/runner/work/perstack/perstack/packages/storages/cloudflare-r2
2025-12-23T04:06:23.4007504Z > pnpm run clean && tsup --config ../../../tsup.config.ts
2025-12-23T04:06:23.4008576Z 
2025-12-23T04:06:23.4008748Z 
2025-12-23T04:06:23.4009685Z > @perstack/r2-storage@0.0.3 clean /home/runner/work/perstack/perstack/packages/storages/cloudflare-r2
2025-12-23T04:06:23.4010505Z > rm -rf dist
2025-12-23T04:06:23.4010707Z 
2025-12-23T04:06:23.4011368Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:06:23.4012442Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:23.4012984Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:23.4013876Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:06:23.4014630Z [34mCLI[39m Target: node22
2025-12-23T04:06:23.4015169Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:23.4015670Z [34mESM[39m Build start
2025-12-23T04:06:23.4016335Z [32mESM[39m [1mdist/src/index.js     [22m[32m667.00 B[39m
2025-12-23T04:06:23.4017146Z [32mESM[39m [1mdist/src/index.js.map [22m[32m1.27 KB[39m
2025-12-23T04:06:23.4017861Z [32mESM[39m ⚡️ Build success in 281ms
2025-12-23T04:06:23.4018364Z [34mDTS[39m Build start
2025-12-23T04:06:23.4018888Z [32mDTS[39m ⚡️ Build success in 17737ms
2025-12-23T04:06:23.4019931Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m351.00 B[39m
2025-12-23T04:06:23.4020846Z ##[endgroup]
2025-12-23T04:06:23.6113364Z ##[group]@perstack/openai-provider:build
2025-12-23T04:06:23.6124763Z cache miss, executing e1ce1dea44ac419a
2025-12-23T04:06:23.6125196Z 
2025-12-23T04:06:23.6126449Z > @perstack/openai-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/openai
2025-12-23T04:06:23.6127560Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:23.6127949Z 
2025-12-23T04:06:23.6127959Z 
2025-12-23T04:06:23.6128715Z > @perstack/openai-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/openai
2025-12-23T04:06:23.6129856Z > rm -rf dist
2025-12-23T04:06:23.6130069Z 
2025-12-23T04:06:23.6130651Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:23.6131381Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:23.6131967Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:23.6133171Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/openai/tsup.config.ts
2025-12-23T04:06:23.6134144Z [34mCLI[39m Target: es2022
2025-12-23T04:06:23.6134618Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:23.6135116Z [34mESM[39m Build start
2025-12-23T04:06:23.6135818Z [32mESM[39m [1mdist/index.js     [22m[32m3.97 KB[39m
2025-12-23T04:06:23.6136666Z [32mESM[39m [1mdist/index.js.map [22m[32m7.73 KB[39m
2025-12-23T04:06:23.6137402Z [32mESM[39m ⚡️ Build success in 64ms
2025-12-23T04:06:23.6137956Z [34mDTS[39m Build start
2025-12-23T04:06:23.6138555Z [32mDTS[39m ⚡️ Build success in 17777ms
2025-12-23T04:06:23.6139585Z [32mDTS[39m [1mdist/index.d.ts [22m[32m1.26 KB[39m
2025-12-23T04:06:23.6140450Z ##[endgroup]
2025-12-23T04:06:27.1583510Z ##[group]create-expert:build
2025-12-23T04:06:27.1585659Z cache miss, executing f67a3b18300493ce
2025-12-23T04:06:27.1589962Z 
2025-12-23T04:06:27.1594503Z > create-expert@0.0.3 build /home/runner/work/perstack/perstack/apps/create-expert
2025-12-23T04:06:27.1595684Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:27.1620240Z 
2025-12-23T04:06:27.1620717Z 
2025-12-23T04:06:27.1626094Z > create-expert@0.0.3 clean /home/runner/work/perstack/perstack/apps/create-expert
2025-12-23T04:06:27.1653950Z > rm -rf dist
2025-12-23T04:06:27.1654186Z 
2025-12-23T04:06:27.1658745Z [34mCLI[39m Building entry: bin/cli.ts
2025-12-23T04:06:27.1664322Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:27.1668987Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:27.1673882Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/apps/create-expert/tsup.config.ts
2025-12-23T04:06:27.1678444Z [34mCLI[39m Target: es2022
2025-12-23T04:06:27.1682138Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:27.1683007Z [34mESM[39m Build start
2025-12-23T04:06:27.1683876Z [32mESM[39m [1mdist/cli.js     [22m[32m25.05 KB[39m
2025-12-23T04:06:27.1684647Z [32mESM[39m [1mdist/cli.js.map [22m[32m40.42 KB[39m
2025-12-23T04:06:27.1685339Z [32mESM[39m ⚡️ Build success in 63ms
2025-12-23T04:06:27.1686185Z ##[endgroup]
2025-12-23T04:06:30.1991331Z ##[group]perstack:build
2025-12-23T04:06:30.1992554Z cache miss, executing 7d4ca27741c58e8f
2025-12-23T04:06:30.1998974Z 
2025-12-23T04:06:30.2000212Z > perstack@0.0.48 build /home/runner/work/perstack/perstack/apps/perstack
2025-12-23T04:06:30.2001481Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:30.2003424Z 
2025-12-23T04:06:30.2003615Z 
2025-12-23T04:06:30.2005271Z > perstack@0.0.48 clean /home/runner/work/perstack/perstack/apps/perstack
2025-12-23T04:06:30.2006218Z > rm -rf dist
2025-12-23T04:06:30.2007612Z 
2025-12-23T04:06:30.2012167Z [34mCLI[39m Building entry: {"bin/cli":"bin/cli.ts"}
2025-12-23T04:06:30.2013258Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:30.2015083Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:30.2020010Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/apps/perstack/tsup.config.ts
2025-12-23T04:06:30.2022202Z [34mCLI[39m Target: node22
2025-12-23T04:06:30.2026215Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:30.2030465Z [34mESM[39m Build start
2025-12-23T04:06:30.2035324Z "getAdapter", "getRegisteredRuntimes" and "isAdapterAvailable" are imported from external module "@perstack/runner" but never used in "dist/bin/cli.js".
2025-12-23T04:06:30.2037799Z [32mESM[39m [1mdist/bin/cli.js     [22m[32m161.31 KB[39m
2025-12-23T04:06:30.2040369Z [32mESM[39m [1mdist/bin/cli.js.map [22m[32m374.49 KB[39m
2025-12-23T04:06:30.2041723Z [32mESM[39m ⚡️ Build success in 2759ms
2025-12-23T04:06:30.2042750Z ##[endgroup]
2025-12-23T04:06:33.3056282Z ##[group]@perstack/base:build
2025-12-23T04:06:33.3154517Z cache miss, executing 35a52516ad0dc25e
2025-12-23T04:06:33.3155084Z 
2025-12-23T04:06:33.3155662Z > @perstack/base@0.0.35 build /home/runner/work/perstack/perstack/apps/base
2025-12-23T04:06:33.3156422Z > pnpm run clean && tsup
2025-12-23T04:06:33.3156804Z 
2025-12-23T04:06:33.3156937Z 
2025-12-23T04:06:33.3157514Z > @perstack/base@0.0.35 clean /home/runner/work/perstack/perstack/apps/base
2025-12-23T04:06:33.3158212Z > rm -rf dist
2025-12-23T04:06:33.3158535Z 
2025-12-23T04:06:33.3159674Z [34mCLI[39m Building entry: {"bin/server":"bin/server.ts","src/index":"src/index.ts"}
2025-12-23T04:06:33.3160702Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:33.3161370Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:33.3162423Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/apps/base/tsup.config.ts
2025-12-23T04:06:33.3163318Z [34mCLI[39m Target: node22
2025-12-23T04:06:33.3163962Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:33.3164588Z [34mESM[39m Build start
2025-12-23T04:06:33.3165425Z [32mESM[39m [1mdist/chunk-WBMNZ5DD.js     [22m[32m36.88 KB[39m
2025-12-23T04:06:33.3166428Z [32mESM[39m [1mdist/bin/server.js         [22m[32m796.00 B[39m
2025-12-23T04:06:33.3167407Z [32mESM[39m [1mdist/src/index.js          [22m[32m802.00 B[39m
2025-12-23T04:06:33.3168409Z [32mESM[39m [1mdist/chunk-WBMNZ5DD.js.map [22m[32m76.41 KB[39m
2025-12-23T04:06:33.3169709Z [32mESM[39m [1mdist/bin/server.js.map     [22m[32m1.40 KB[39m
2025-12-23T04:06:33.3170742Z [32mESM[39m [1mdist/src/index.js.map      [22m[32m69.00 B[39m
2025-12-23T04:06:33.3171607Z [32mESM[39m ⚡️ Build success in 957ms
2025-12-23T04:06:33.3172273Z [34mDTS[39m Build start
2025-12-23T04:06:33.3172930Z [32mDTS[39m ⚡️ Build success in 27640ms
2025-12-23T04:06:33.3173783Z [32mDTS[39m [1mdist/bin/server.d.ts [22m[32m20.00 B[39m
2025-12-23T04:06:33.3174703Z [32mDTS[39m [1mdist/src/index.d.ts  [22m[32m5.49 KB[39m
2025-12-23T04:06:33.3175658Z ##[endgroup]
2025-12-23T04:06:35.4957203Z ##[group]@perstack/runtime:build
2025-12-23T04:06:35.4959455Z cache miss, executing 2c48c60d5fd16c86
2025-12-23T04:06:35.4960966Z 
2025-12-23T04:06:35.4962725Z > @perstack/runtime@0.0.71 build /home/runner/work/perstack/perstack/apps/runtime
2025-12-23T04:06:35.4964841Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:35.4966395Z 
2025-12-23T04:06:35.4967520Z 
2025-12-23T04:06:35.4969341Z > @perstack/runtime@0.0.71 clean /home/runner/work/perstack/perstack/apps/runtime
2025-12-23T04:06:35.4971225Z > rm -rf dist
2025-12-23T04:06:35.4973102Z 
2025-12-23T04:06:35.4977699Z [34mCLI[39m Building entry: {"bin/cli":"bin/cli.ts","src/index":"src/index.ts"}
2025-12-23T04:06:35.4982744Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:35.4986736Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:35.4991827Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/apps/runtime/tsup.config.ts
2025-12-23T04:06:35.5000930Z [34mCLI[39m Target: node22
2025-12-23T04:06:35.5001682Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:35.5002403Z [34mESM[39m Build start
2025-12-23T04:06:35.5003039Z [34mDTS[39m Build start
2025-12-23T04:06:35.5004206Z [32mESM[39m [1mdist/lockfile-skill-manager-LG2E4KAZ.js     [22m[32m179.00 B[39m
2025-12-23T04:06:35.5005599Z [32mESM[39m [1mdist/chunk-LDJKVMQK.js                      [22m[32m86.33 KB[39m
2025-12-23T04:06:35.5007568Z [32mESM[39m [1mdist/chunk-RG4QHAGG.js                      [22m[32m30.49 KB[39m
2025-12-23T04:06:35.5014421Z [32mESM[39m [1mdist/bin/cli.js                             [22m[32m10.64 KB[39m
2025-12-23T04:06:35.5017447Z [32mESM[39m [1mdist/src/index.js                           [22m[32m5.88 KB[39m
2025-12-23T04:06:35.5020487Z [32mESM[39m [1mdist/lockfile-skill-manager-LG2E4KAZ.js.map [22m[32m95.00 B[39m
2025-12-23T04:06:35.5023196Z [32mESM[39m [1mdist/chunk-LDJKVMQK.js.map                  [22m[32m201.30 KB[39m
2025-12-23T04:06:35.5025217Z [32mESM[39m [1mdist/chunk-RG4QHAGG.js.map                  [22m[32m78.11 KB[39m
2025-12-23T04:06:35.5026677Z [32mESM[39m [1mdist/bin/cli.js.map                         [22m[32m23.14 KB[39m
2025-12-23T04:06:35.5028102Z [32mESM[39m [1mdist/src/index.js.map                       [22m[32m13.38 KB[39m
2025-12-23T04:06:35.5029457Z [32mESM[39m ⚡️ Build success in 2123ms
2025-12-23T04:06:35.5030369Z [32mDTS[39m ⚡️ Build success in 54066ms
2025-12-23T04:06:35.5031305Z [32mDTS[39m [1mdist/bin/cli.d.ts   [22m[32m20.00 B[39m
2025-12-23T04:06:35.5032301Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m12.79 KB[39m
2025-12-23T04:06:35.5033329Z ##[endgroup]
2025-12-23T04:06:37.8872452Z ##[group]@perstack/e2e-mcp-server:build
2025-12-23T04:06:37.8876591Z cache miss, executing bd88ccc528ee677c
2025-12-23T04:06:37.8881358Z 
2025-12-23T04:06:37.8885208Z > @perstack/e2e-mcp-server@0.0.4 build /home/runner/work/perstack/perstack/apps/e2e-mcp-server
2025-12-23T04:06:37.8889651Z > pnpm run clean && tsup
2025-12-23T04:06:37.8951031Z 
2025-12-23T04:06:37.8954862Z 
2025-12-23T04:06:37.8956158Z > @perstack/e2e-mcp-server@0.0.4 clean /home/runner/work/perstack/perstack/apps/e2e-mcp-server
2025-12-23T04:06:37.8961114Z > rm -rf dist
2025-12-23T04:06:37.8961678Z 
2025-12-23T04:06:37.8962895Z [34mCLI[39m Building entry: {"bin/server":"bin/server.ts","src/index":"src/index.ts"}
2025-12-23T04:06:37.8973724Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:37.8975855Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:37.8977431Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/apps/e2e-mcp-server/tsup.config.ts
2025-12-23T04:06:37.8980347Z [34mCLI[39m Target: node22
2025-12-23T04:06:37.8981561Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:37.8982714Z [34mESM[39m Build start
2025-12-23T04:06:37.8990886Z [32mESM[39m [1mdist/chunk-XGLZ2HAL.js     [22m[32m17.22 KB[39m
2025-12-23T04:06:37.8992343Z [32mESM[39m [1mdist/bin/server.js         [22m[32m331.00 B[39m
2025-12-23T04:06:37.8993783Z [32mESM[39m [1mdist/src/index.js          [22m[32m120.00 B[39m
2025-12-23T04:06:37.8995135Z [32mESM[39m [1mdist/chunk-XGLZ2HAL.js.map [22m[32m34.71 KB[39m
2025-12-23T04:06:37.8996536Z [32mESM[39m [1mdist/bin/server.js.map     [22m[32m483.00 B[39m
2025-12-23T04:06:37.9016298Z [32mESM[39m [1mdist/src/index.js.map      [22m[32m69.00 B[39m
2025-12-23T04:06:37.9017751Z [32mESM[39m ⚡️ Build success in 539ms
2025-12-23T04:06:37.9019078Z [34mDTS[39m Build start
2025-12-23T04:06:37.9020294Z [32mDTS[39m ⚡️ Build success in 11472ms
2025-12-23T04:06:37.9021540Z [32mDTS[39m [1mdist/bin/server.d.ts [22m[32m20.00 B[39m
2025-12-23T04:06:37.9022429Z [32mDTS[39m [1mdist/src/index.d.ts  [22m[32m140.00 B[39m
2025-12-23T04:06:37.9023416Z ##[endgroup]
2025-12-23T04:06:38.3694210Z ##[group]@perstack/azure-openai-provider:build
2025-12-23T04:06:38.3699095Z cache miss, executing c21e45e403bab08d
2025-12-23T04:06:38.3703575Z 
2025-12-23T04:06:38.3708176Z > @perstack/azure-openai-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/azure-openai
2025-12-23T04:06:38.3713514Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:38.3714178Z 
2025-12-23T04:06:38.3717736Z 
2025-12-23T04:06:38.3718838Z > @perstack/azure-openai-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/azure-openai
2025-12-23T04:06:38.3723585Z > rm -rf dist
2025-12-23T04:06:38.3724044Z 
2025-12-23T04:06:38.3728082Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:38.3729095Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:38.3733585Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:38.3735241Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/azure-openai/tsup.config.ts
2025-12-23T04:06:38.3736393Z [34mCLI[39m Target: es2022
2025-12-23T04:06:38.3737035Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:38.3737627Z [34mESM[39m Build start
2025-12-23T04:06:38.3738358Z [32mESM[39m [1mdist/index.js     [22m[32m3.66 KB[39m
2025-12-23T04:06:38.3745168Z [32mESM[39m [1mdist/index.js.map [22m[32m6.96 KB[39m
2025-12-23T04:06:38.3746015Z [32mESM[39m ⚡️ Build success in 66ms
2025-12-23T04:06:38.3746586Z [34mDTS[39m Build start
2025-12-23T04:06:38.3747180Z [32mDTS[39m ⚡️ Build success in 11563ms
2025-12-23T04:06:38.3747934Z [32mDTS[39m [1mdist/index.d.ts [22m[32m773.00 B[39m
2025-12-23T04:06:38.3748753Z ##[endgroup]
2025-12-23T04:06:38.5579090Z ##[group]@perstack/deepseek-provider:build
2025-12-23T04:06:38.5582171Z cache miss, executing c1a7c45f8e48ac43
2025-12-23T04:06:38.5583741Z 
2025-12-23T04:06:38.5585715Z > @perstack/deepseek-provider@0.0.2 build /home/runner/work/perstack/perstack/packages/providers/deepseek
2025-12-23T04:06:38.5587997Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:38.5589793Z 
2025-12-23T04:06:38.5591009Z 
2025-12-23T04:06:38.5593013Z > @perstack/deepseek-provider@0.0.2 clean /home/runner/work/perstack/perstack/packages/providers/deepseek
2025-12-23T04:06:38.5595154Z > rm -rf dist
2025-12-23T04:06:38.5596516Z 
2025-12-23T04:06:38.5598209Z [34mCLI[39m Building entry: src/index.ts
2025-12-23T04:06:38.5598956Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:38.5600247Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:38.5601853Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/providers/deepseek/tsup.config.ts
2025-12-23T04:06:38.5602798Z [34mCLI[39m Target: es2022
2025-12-23T04:06:38.5604347Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:38.5604877Z [34mESM[39m Build start
2025-12-23T04:06:38.5605557Z [32mESM[39m [1mdist/index.js     [22m[32m2.12 KB[39m
2025-12-23T04:06:38.5606339Z [32mESM[39m [1mdist/index.js.map [22m[32m4.11 KB[39m
2025-12-23T04:06:38.5607015Z [32mESM[39m ⚡️ Build success in 64ms
2025-12-23T04:06:38.5607543Z [34mDTS[39m Build start
2025-12-23T04:06:38.5608098Z [32mDTS[39m ⚡️ Build success in 9029ms
2025-12-23T04:06:38.5608839Z [32mDTS[39m [1mdist/index.d.ts [22m[32m641.00 B[39m
2025-12-23T04:06:38.5609851Z ##[endgroup]
2025-12-23T04:06:40.7253635Z ##[group]@perstack/api-client:build
2025-12-23T04:06:40.7257667Z cache miss, executing 51ed2de2143bb12c
2025-12-23T04:06:40.7277343Z 
2025-12-23T04:06:40.7278400Z > @perstack/api-client@0.0.35 build /home/runner/work/perstack/perstack/packages/api-client
2025-12-23T04:06:40.7279898Z > pnpm run clean && tsup --config ./tsup.config.ts
2025-12-23T04:06:40.7284388Z 
2025-12-23T04:06:40.7284599Z 
2025-12-23T04:06:40.7285424Z > @perstack/api-client@0.0.35 clean /home/runner/work/perstack/perstack/packages/api-client
2025-12-23T04:06:40.7286783Z > rm -rf dist
2025-12-23T04:06:40.7288230Z 
2025-12-23T04:06:40.7289074Z [34mCLI[39m Building entry: {"v1/index":"v1/index.ts"}
2025-12-23T04:06:40.7290633Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:40.7291183Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:40.7292259Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/packages/api-client/tsup.config.ts
2025-12-23T04:06:40.7293137Z [34mCLI[39m Target: node22
2025-12-23T04:06:40.7293678Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:40.7294172Z [34mESM[39m Build start
2025-12-23T04:06:40.7294848Z [32mESM[39m [1mdist/v1/index.js     [22m[32m60.91 KB[39m
2025-12-23T04:06:40.7295671Z [32mESM[39m [1mdist/v1/index.js.map [22m[32m144.21 KB[39m
2025-12-23T04:06:40.7296384Z [32mESM[39m ⚡️ Build success in 1450ms
2025-12-23T04:06:40.7296897Z [34mDTS[39m Build start
2025-12-23T04:06:40.7297434Z [32mDTS[39m ⚡️ Build success in 11013ms
2025-12-23T04:06:40.7298186Z [32mDTS[39m [1mdist/v1/index.d.ts [22m[32m177.78 KB[39m
2025-12-23T04:06:40.7298994Z ##[endgroup]
2025-12-23T04:06:42.2311827Z ##[group]@perstack/runner:build
2025-12-23T04:06:42.2321651Z cache miss, executing 9862abbf4f21c229
2025-12-23T04:06:42.2322581Z 
2025-12-23T04:06:42.2323366Z > @perstack/runner@0.0.3 build /home/runner/work/perstack/perstack/packages/runner
2025-12-23T04:06:42.2324580Z > pnpm run clean && tsup --config ../../tsup.config.ts
2025-12-23T04:06:42.2325666Z 
2025-12-23T04:06:42.2326179Z 
2025-12-23T04:06:42.2326995Z > @perstack/runner@0.0.3 clean /home/runner/work/perstack/perstack/packages/runner
2025-12-23T04:06:42.2327692Z > rm -rf dist
2025-12-23T04:06:42.2327881Z 
2025-12-23T04:06:42.2328538Z [34mCLI[39m Building entry: {"src/index":"src/index.ts"}
2025-12-23T04:06:42.2329496Z [34mCLI[39m Using tsconfig: tsconfig.json
2025-12-23T04:06:42.2330056Z [34mCLI[39m tsup v8.5.1
2025-12-23T04:06:42.2330899Z [34mCLI[39m Using tsup config: /home/runner/work/perstack/perstack/tsup.config.ts
2025-12-23T04:06:42.2331707Z [34mCLI[39m Target: node22
2025-12-23T04:06:42.2332278Z [34mCLI[39m Cleaning output folder
2025-12-23T04:06:42.2332756Z [34mESM[39m Build start
2025-12-23T04:06:42.2333437Z [32mESM[39m [1mdist/src/index.js     [22m[32m2.88 KB[39m
2025-12-23T04:06:42.2334279Z [32mESM[39m [1mdist/src/index.js.map [22m[32m6.15 KB[39m
2025-12-23T04:06:42.2334958Z [32mESM[39m ⚡️ Build success in 425ms
2025-12-23T04:06:42.2335468Z [34mDTS[39m Build start
2025-12-23T04:06:42.2336013Z [32mDTS[39m ⚡️ Build success in 12410ms
2025-12-23T04:06:42.2336711Z [32mDTS[39m [1mdist/src/index.d.ts [22m[32m1.18 KB[39m
2025-12-23T04:06:42.2337638Z ##[endgroup]
2025-12-23T04:06:42.2373421Z 
2025-12-23T04:06:42.2373688Z  Tasks:    26 successful, 26 total
2025-12-23T04:06:42.2374191Z Cached:    0 cached, 26 total
2025-12-23T04:06:42.2374590Z   Time:    1m6.879s 
2025-12-23T04:06:42.2374816Z 
2025-12-23T04:06:42.2600994Z ##[group]Run pnpm test:e2e
2025-12-23T04:06:42.2601478Z [36;1mpnpm test:e2e[0m
2025-12-23T04:06:42.2644044Z shell: /usr/bin/bash -e {0}
2025-12-23T04:06:42.2644422Z env:
2025-12-23T04:06:42.2644716Z   PNPM_VERSION: 10.10.0
2025-12-23T04:06:42.2645074Z   NODE_VERSION: 22
2025-12-23T04:06:42.2645491Z   PNPM_HOME: /home/runner/setup-pnpm/node_modules/.bin
2025-12-23T04:06:42.2647097Z   ANTHROPIC_API_KEY: ***
2025-12-23T04:06:42.2647549Z   EXA_API_KEY: ***
2025-12-23T04:06:42.2647868Z ##[endgroup]
2025-12-23T04:06:42.5752559Z 
2025-12-23T04:06:42.5753389Z > perstack-monorepo@ test:e2e /home/runner/work/perstack/perstack
2025-12-23T04:06:42.5754149Z > vitest run --project e2e
2025-12-23T04:06:42.5754437Z 
2025-12-23T04:06:42.8577753Z [dotenv@17.2.3] injecting env (0) from .env -- tip: 🔄 add secrets lifecycle management: https://dotenvx.com/ops
2025-12-23T04:06:42.8580897Z [dotenv@17.2.3] injecting env (0) from .env.local -- tip: 🔐 encrypt with Dotenvx: https://dotenvx.com
2025-12-23T04:06:42.8874922Z 
2025-12-23T04:06:42.8878507Z [1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/home/runner/work/perstack/perstack[39m
2025-12-23T04:06:42.8879812Z 
2025-12-23T04:09:49.2970830Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-attack-scenarios.test.ts [2m([22m[2m24 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 182202[2mms[22m[39m
2025-12-23T04:09:49.2972696Z      [33m[2m✓[22m[39m should block AWS metadata endpoint (169.254.169.254) [33m 59288[2mms[22m[39m
2025-12-23T04:09:49.2973406Z      [33m[2m✓[22m[39m should block GCP metadata endpoint [33m 59104[2mms[22m[39m
2025-12-23T04:09:49.2974010Z      [33m[2m✓[22m[39m should block Azure metadata endpoint [33m 59705[2mms[22m[39m
2025-12-23T04:09:49.2974598Z      [33m[2m✓[22m[39m should block localhost access (SSRF) [33m 58908[2mms[22m[39m
2025-12-23T04:09:49.2975208Z      [33m[2m✓[22m[39m should block docker host access (SSRF) [33m 59512[2mms[22m[39m
2025-12-23T04:09:49.2976526Z      [33m[2m✓[22m[39m should block kubernetes service discovery (SSRF) [33m 33132[2mms[22m[39m
2025-12-23T04:09:49.2977882Z      [33m[2m✓[22m[39m should block metadata IP directly (SSRF) [33m 32706[2mms[22m[39m
2025-12-23T04:09:49.2979001Z      [33m[2m✓[22m[39m should block /proc/self/environ access [33m 31682[2mms[22m[39m
2025-12-23T04:09:49.2980341Z      [33m[2m✓[22m[39m should block /etc/shadow access [33m 32861[2mms[22m[39m
2025-12-23T04:09:49.2981446Z      [33m[2m✓[22m[39m should not expose host SSH keys [33m 32483[2mms[22m[39m
2025-12-23T04:09:49.2982543Z      [33m[2m✓[22m[39m should not expose AWS credentials [33m 28393[2mms[22m[39m
2025-12-23T04:09:49.2983635Z      [33m[2m✓[22m[39m should block docker socket access [33m 32786[2mms[22m[39m
2025-12-23T04:09:49.2985041Z [31m     [31m×[31m should allow symlink to container /etc/passwd (not host file)[39m[33m 32965[2mms[22m[39m
2025-12-23T04:09:49.2986461Z      [33m[2m✓[22m[39m should block symlink to /etc/shadow due to permissions [33m 32578[2mms[22m[39m
2025-12-23T04:09:49.2987729Z      [33m[2m✓[22m[39m should not expose host files via symlink [33m 31989[2mms[22m[39m
2025-12-23T04:09:49.2988872Z      [33m[2m✓[22m[39m should not allow proxy bypass via env override [33m 24995[2mms[22m[39m
2025-12-23T04:09:49.2993528Z      [33m[2m✓[22m[39m should not expose sensitive environment variables [33m 30121[2mms[22m[39m
2025-12-23T04:09:49.2994622Z      [33m[2m✓[22m[39m should block HTTP data exfiltration to arbitrary domains [33m 30588[2mms[22m[39m
2025-12-23T04:09:49.2995765Z      [33m[2m✓[22m[39m should block fetch requests to non-allowedDomains [33m 31539[2mms[22m[39m
2025-12-23T04:09:49.2996929Z      [33m[2m✓[22m[39m should allow requests to allowedDomains (httpbin.org) [33m 31547[2mms[22m[39m
2025-12-23T04:09:49.2998797Z      [33m[2m✓[22m[39m should block requests to domains not in allowedDomains even with allowed expert [33m 24840[2mms[22m[39m
2025-12-23T04:09:49.3000350Z      [33m[2m✓[22m[39m should block HTTP requests to DNS-encoded subdomains [33m 26657[2mms[22m[39m
2025-12-23T04:09:49.3001147Z      [33m[2m✓[22m[39m should block exfiltration of harvested environment variables [33m 26869[2mms[22m[39m
2025-12-23T04:09:49.3001957Z      [33m[2m✓[22m[39m should not expose host environment sensitive variables inside container [33m 25893[2mms[22m[39m
2025-12-23T04:11:06.4546166Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-security.test.ts [2m([22m[2m14 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 76951[2mms[22m[39m
2025-12-23T04:11:06.4547795Z      [33m[2m✓[22m[39m should block access to domains not in allowlist [33m 24607[2mms[22m[39m
2025-12-23T04:11:06.4549042Z [31m     [31m×[31m should allow access to domains in allowlist[39m[33m 24214[2mms[22m[39m
2025-12-23T04:11:06.4550958Z      [33m[2m✓[22m[39m should block HTTP (unencrypted) requests even to valid domains [33m 25011[2mms[22m[39m
2025-12-23T04:11:06.4552059Z      [33m[2m✓[22m[39m should not expose host /etc/shadow [33m 24805[2mms[22m[39m
2025-12-23T04:11:06.4553537Z      [33m[2m✓[22m[39m should block path traversal attempts [33m 24382[2mms[22m[39m
2025-12-23T04:11:06.4554542Z      [33m[2m✓[22m[39m should not have access to host SSH keys [33m 22601[2mms[22m[39m
2025-12-23T04:11:06.4555298Z      [33m[2m✓[22m[39m should not have sudo access [33m 21863[2mms[22m[39m
2025-12-23T04:11:06.4555894Z      [33m[2m✓[22m[39m should not have access to docker socket [33m 23058[2mms[22m[39m
2025-12-23T04:11:06.4556573Z      [33m[2m✓[22m[39m should only expose required environment variables [33m 23024[2mms[22m[39m
2025-12-23T04:11:06.4557311Z [31m     [31m×[31m should allow access to domains in skill allowlist[39m[33m 23035[2mms[22m[39m
2025-12-23T04:11:06.4558017Z      [33m[2m✓[22m[39m should block access to domains not in skill allowlist [33m 19574[2mms[22m[39m
2025-12-23T04:11:06.4558729Z [31m     [31m×[31m should auto-include provider API domain[39m[33m 20318[2mms[22m[39m
2025-12-23T04:11:06.4559705Z [31m     [31m×[31m should merge allowedDomains from multiple skills[39m[33m 29136[2mms[22m[39m
2025-12-23T04:11:06.4560424Z      [33m[2m✓[22m[39m should still block domains not in any skill allowlist [33m 29118[2mms[22m[39m
2025-12-23T04:11:15.8951619Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/streaming.test.ts [2m([22m[2m6 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 9291[2mms[22m[39m
2025-12-23T04:11:15.8953173Z [31m       [31m×[31m emits reasoning events in correct order (start → stream... → complete)[39m[33m 1628[2mms[22m[39m
2025-12-23T04:11:15.8954108Z [31m       [31m×[31m emits result events in correct order (start → stream... → complete)[39m[33m 1525[2mms[22m[39m
2025-12-23T04:11:15.8955460Z        [33m[2m✓[22m[39m reasoning phase completes before result phase [33m 1586[2mms[22m[39m
2025-12-23T04:11:15.8956820Z [31m       [31m×[31m skips reasoning events when budget is none[39m[33m 1503[2mms[22m[39m
2025-12-23T04:11:15.8958130Z        [33m[2m✓[22m[39m streamReasoning events contain non-empty deltas [33m 1545[2mms[22m[39m
2025-12-23T04:11:15.8959612Z        [33m[2m✓[22m[39m streamRunResult events contain non-empty deltas [33m 1502[2mms[22m[39m
2025-12-23T04:11:38.7372217Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts [2m([22m[2m10 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[33m 22695[2mms[22m[39m
2025-12-23T04:11:38.7373302Z [31m       [31m×[31m should produce reasoning tokens when budget is set[39m[33m 1521[2mms[22m[39m
2025-12-23T04:11:38.7374032Z [31m       [31m×[31m should emit streaming reasoning events[39m[33m 1607[2mms[22m[39m
2025-12-23T04:11:38.7374783Z [31m       [31m×[31m should produce more reasoning tokens with higher budget[39m[33m 3171[2mms[22m[39m
2025-12-23T04:11:38.7375996Z        [33m[2m✓[22m[39m should complete successfully with all budget levels [33m 6384[2mms[22m[39m
2025-12-23T04:11:38.7376828Z [31m       [31m×[31m should produce reasoning tokens when budget is set[39m[33m 1263[2mms[22m[39m
2025-12-23T04:11:38.7377621Z [31m       [31m×[31m should produce more reasoning tokens with higher budget[39m[33m 2519[2mms[22m[39m
2025-12-23T04:11:38.7378402Z [31m       [31m×[31m should complete successfully with all budget levels[39m[33m 1240[2mms[22m[39m
2025-12-23T04:11:38.7379457Z [31m       [31m×[31m should produce reasoning tokens when budget is set[39m[33m 1263[2mms[22m[39m
2025-12-23T04:11:38.7380314Z [31m       [31m×[31m should produce more reasoning tokens with higher budget[39m[33m 2470[2mms[22m[39m
2025-12-23T04:11:38.7381105Z [31m       [31m×[31m should complete successfully with all budget levels[39m[33m 1255[2mms[22m[39m
2025-12-23T04:11:43.3784284Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/continue.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 4494[2mms[22m[39m
2025-12-23T04:11:43.3786402Z [31m     [31m×[31m should continue and complete job from interactive stop[39m[33m 4461[2mms[22m[39m
2025-12-23T04:11:43.3787992Z [31m     [31m×[31m should continue after parallel delegation and complete[39m[33m 4445[2mms[22m[39m
2025-12-23T04:11:43.3791257Z [31m     [31m×[31m should capture checkpoint ID for resume-from[39m[33m 4492[2mms[22m[39m
2025-12-23T04:11:43.3792154Z      [33m[2m✓[22m[39m should fail when --resume-from is used without --continue-job [33m 4087[2mms[22m[39m
2025-12-23T04:12:18.6711110Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/runtime-selection.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m3 failed[39m[2m | [22m[33m3 skipped[39m[2m)[22m[33m 35101[2mms[22m[39m
2025-12-23T04:12:18.6712932Z [31m     [31m×[31m should run with local runtime[39m[33m 10547[2mms[22m[39m
2025-12-23T04:12:18.6713987Z      [33m[2m✓[22m[39m should reject invalid runtime names [33m 4211[2mms[22m[39m
2025-12-23T04:12:18.6714524Z      [2m[90m↓[39m[22m should run with cursor runtime
2025-12-23T04:12:18.6715353Z      [2m[90m↓[39m[22m should run with claude-code runtime
2025-12-23T04:12:18.6716167Z      [2m[90m↓[39m[22m should run with gemini runtime
2025-12-23T04:12:18.6717242Z [31m     [31m×[31m should run with docker runtime[39m[33m 35094[2mms[22m[39m
2025-12-23T04:12:18.6718731Z [31m     [31m×[31m should use runtime from perstack.toml when --runtime not specified[39m[33m 4520[2mms[22m[39m
2025-12-23T04:12:23.4614563Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/run.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 4649[2mms[22m[39m
2025-12-23T04:12:23.4615512Z [31m     [31m×[31m should answer a simple question and complete[39m[33m 3280[2mms[22m[39m
2025-12-23T04:12:23.4616311Z [31m     [31m×[31m should execute multiple tools in parallel and complete[39m[33m 4648[2mms[22m[39m
2025-12-23T04:12:23.4617043Z [31m     [31m×[31m should read and summarize PDF content[39m[33m 3240[2mms[22m[39m
2025-12-23T04:12:23.4617684Z [31m     [31m×[31m should read and describe image content[39m[33m 3283[2mms[22m[39m
2025-12-23T04:12:35.2551103Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/publish.test.ts [2m([22m[2m11 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 11653[2mms[22m[39m
2025-12-23T04:12:35.2552516Z      [33m[2m✓[22m[39m should output JSON payload for valid expert with --dry-run [33m 4724[2mms[22m[39m
2025-12-23T04:12:35.2553402Z      [33m[2m✓[22m[39m should fail for nonexistent expert [33m 4919[2mms[22m[39m
2025-12-23T04:12:35.2554174Z      [33m[2m✓[22m[39m should fail with nonexistent config file [33m 4963[2mms[22m[39m
2025-12-23T04:12:35.2555281Z      [33m[2m✓[22m[39m should fail when no config in directory [33m 4299[2mms[22m[39m
2025-12-23T04:12:35.2556802Z [31m     [31m×[31m should fail without version[39m[33m 5213[2mms[22m[39m
2025-12-23T04:12:35.2558387Z [31m     [31m×[31m should fail without --force when version provided[39m[33m 4997[2mms[22m[39m
2025-12-23T04:12:35.2559898Z      [33m[2m✓[22m[39m should fail without version [33m 5422[2mms[22m[39m
2025-12-23T04:12:35.2560953Z      [33m[2m✓[22m[39m should fail without tags [33m 5078[2mms[22m[39m
2025-12-23T04:12:35.2561848Z      [33m[2m✓[22m[39m should fail without version [33m 5547[2mms[22m[39m
2025-12-23T04:12:35.2562511Z      [33m[2m✓[22m[39m should fail without status value [33m 5102[2mms[22m[39m
2025-12-23T04:12:35.2563193Z      [33m[2m✓[22m[39m should fail with invalid status value [33m 2351[2mms[22m[39m
2025-12-23T04:12:42.9249506Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/options.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 7528[2mms[22m[39m
2025-12-23T04:12:42.9251115Z      [33m[2m✓[22m[39m should accept --provider option [33m 4353[2mms[22m[39m
2025-12-23T04:12:42.9254207Z      [33m[2m✓[22m[39m should accept --model option [33m 4074[2mms[22m[39m
2025-12-23T04:12:42.9254964Z      [33m[2m✓[22m[39m should accept --max-steps option [33m 4036[2mms[22m[39m
2025-12-23T04:12:42.9256119Z      [33m[2m✓[22m[39m should accept --max-retries option [33m 4296[2mms[22m[39m
2025-12-23T04:12:42.9257262Z      [33m[2m✓[22m[39m should accept --timeout option [33m 4105[2mms[22m[39m
2025-12-23T04:12:42.9258382Z      [33m[2m✓[22m[39m should accept --job-id option [33m 3352[2mms[22m[39m
2025-12-23T04:12:42.9259784Z [31m     [31m×[31m should accept --run-id option[39m[33m 3359[2mms[22m[39m
2025-12-23T04:12:42.9260780Z      [33m[2m✓[22m[39m should accept --env-path option [33m 3369[2mms[22m[39m
2025-12-23T04:12:42.9261654Z      [33m[2m✓[22m[39m should accept --verbose option [33m 3230[2mms[22m[39m
2025-12-23T04:12:49.2736696Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/lazy-init.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 6208[2mms[22m[39m
2025-12-23T04:12:49.2738766Z [31m     [31m×[31m all lazyInit=false: all skills should be connected before startRun[39m[33m 6207[2mms[22m[39m
2025-12-23T04:12:49.2740545Z [31m     [31m×[31m mixed: lazyInit=false blocks startRun, lazyInit=true does not block[39m[33m 6198[2mms[22m[39m
2025-12-23T04:12:57.0614315Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/validation.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 7656[2mms[22m[39m
2025-12-23T04:12:57.0615854Z      [33m[2m✓[22m[39m should fail without arguments [33m 5210[2mms[22m[39m
2025-12-23T04:12:57.0616977Z      [33m[2m✓[22m[39m should fail with only expert key [33m 5111[2mms[22m[39m
2025-12-23T04:12:57.0617614Z      [33m[2m✓[22m[39m should fail for nonexistent expert [33m 5134[2mms[22m[39m
2025-12-23T04:12:57.0618490Z      [33m[2m✓[22m[39m should fail with nonexistent config file [33m 4918[2mms[22m[39m
2025-12-23T04:12:57.0620507Z [31m     [31m×[31m should fail when --resume-from is used without --continue-job[39m[33m 5133[2mms[22m[39m
2025-12-23T04:12:57.0621687Z      [33m[2m✓[22m[39m should reject invalid runtime name [33m 2443[2mms[22m[39m
2025-12-23T04:12:57.0622977Z      [33m[2m✓[22m[39m should fail with clear message for nonexistent delegate [33m 2544[2mms[22m[39m
2025-12-23T04:13:01.7883818Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/skills.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 4590[2mms[22m[39m
2025-12-23T04:13:01.7885790Z [31m     [31m×[31m should only have access to picked tools[39m[33m 3246[2mms[22m[39m
2025-12-23T04:13:01.7886932Z [31m     [31m×[31m should be able to use picked tools[39m[33m 3280[2mms[22m[39m
2025-12-23T04:13:01.7888449Z      [33m[2m✓[22m[39m should not have access to omitted tools [33m 3312[2mms[22m[39m
2025-12-23T04:13:01.7890263Z [31m     [31m×[31m should have access to tools from multiple skills[39m[33m 4588[2mms[22m[39m
2025-12-23T04:13:07.0518843Z  [32m✓[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/validation.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 5126[2mms[22m[39m
2025-12-23T04:13:07.0519866Z      [33m[2m✓[22m[39m should show version [33m 3423[2mms[22m[39m
2025-12-23T04:13:07.0520354Z      [33m[2m✓[22m[39m should show help [33m 3781[2mms[22m[39m
2025-12-23T04:13:07.0520882Z      [33m[2m✓[22m[39m should show run command help [33m 3495[2mms[22m[39m
2025-12-23T04:13:07.0521415Z      [33m[2m✓[22m[39m should fail without arguments [33m 3365[2mms[22m[39m
2025-12-23T04:13:07.0521962Z      [33m[2m✓[22m[39m should fail with only expert key [33m 3780[2mms[22m[39m
2025-12-23T04:13:07.0522902Z      [33m[2m✓[22m[39m should fail for nonexistent expert [33m 1759[2mms[22m[39m
2025-12-23T04:13:07.0524051Z      [33m[2m✓[22m[39m should fail with nonexistent config file [33m 1701[2mms[22m[39m
2025-12-23T04:13:15.4961776Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/lockfile.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 8309[2mms[22m[39m
2025-12-23T04:13:15.4962928Z      [33m[2m✓[22m[39m should generate lockfile with perstack install [33m 1746[2mms[22m[39m
2025-12-23T04:13:15.4963686Z [31m     [31m×[31m should run with lockfile present[39m[33m 3249[2mms[22m[39m
2025-12-23T04:13:15.4964411Z [31m     [31m×[31m should run without lockfile (fallback)[39m[33m 1544[2mms[22m[39m
2025-12-23T04:13:15.4965123Z      [33m[2m✓[22m[39m should contain tool input schemas in lockfile [33m 1767[2mms[22m[39m
2025-12-23T04:13:17.5012443Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/bundled-base.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1872[2mms[22m[39m
2025-12-23T04:13:17.5014467Z [31m     [31m×[31m should use InMemoryTransport for bundled base (spawnDurationMs = 0)[39m[33m 1871[2mms[22m[39m
2025-12-23T04:13:17.5015806Z [31m     [31m×[31m should have all base skill tools available[39m[33m 1802[2mms[22m[39m
2025-12-23T04:13:24.5165726Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/versioned-base.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 6881[2mms[22m[39m
2025-12-23T04:13:24.5167295Z [31m     [31m×[31m should use StdioTransport for versioned base (spawnDurationMs > 0)[39m[33m 6880[2mms[22m[39m
2025-12-23T04:13:24.5168543Z [31m     [31m×[31m should have picked tools available[39m[33m 6869[2mms[22m[39m
2025-12-23T04:13:27.1125145Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/error-handling.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2462[2mms[22m[39m
2025-12-23T04:13:27.1127099Z [31m     [31m×[31m should recover from file not found error and complete successfully[39m[33m 2461[2mms[22m[39m
2025-12-23T04:13:27.1128154Z      [33m[2m✓[22m[39m should fail gracefully when MCP skill command is invalid [33m 2196[2mms[22m[39m
2025-12-23T04:13:27.1129759Z      [33m[2m✓[22m[39m should fail with invalid provider name [33m 2184[2mms[22m[39m
2025-12-23T04:13:29.1913543Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/delegate.test.ts [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1947[2mms[22m[39m
2025-12-23T04:13:29.1914462Z [31m     [31m×[31m should chain through multiple experts[39m[33m 1945[2mms[22m[39m
2025-12-23T04:13:32.4925783Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/interactive.test.ts [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 3170[2mms[22m[39m
2025-12-23T04:13:32.4927805Z [31m     [31m×[31m should handle mixed tool calls with delegate and interactive stop[39m[33m 3168[2mms[22m[39m
2025-12-23T04:13:48.1766571Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-cli/log.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 15549[2mms[22m[39m
2025-12-23T04:13:48.1768074Z      [33m[2m✓[22m[39m should show help text [33m 1747[2mms[22m[39m
2025-12-23T04:13:48.1769139Z      [33m[2m✓[22m[39m should handle nonexistent job gracefully [33m 1747[2mms[22m[39m
2025-12-23T04:13:48.1770228Z      [33m[2m✓[22m[39m should accept valid options [33m 1694[2mms[22m[39m
2025-12-23T04:13:48.1771265Z      [33m[2m✓[22m[39m should accept step filter [33m 1728[2mms[22m[39m
2025-12-23T04:13:48.1772298Z      [33m[2m✓[22m[39m should accept type filter [33m 1726[2mms[22m[39m
2025-12-23T04:13:48.1773445Z [31m     [31m×[31m should accept errors preset[39m[33m 1724[2mms[22m[39m
2025-12-23T04:13:48.1774604Z [31m     [31m×[31m should accept tools preset[39m[33m 1723[2mms[22m[39m
2025-12-23T04:13:48.1775389Z [31m     [31m×[31m should accept summary option[39m[33m 1713[2mms[22m[39m
2025-12-23T04:13:48.1776015Z [31m     [31m×[31m should accept filter expression[39m[33m 1745[2mms[22m[39m
2025-12-23T04:13:48.3167858Z [90mstdout[2m | e2e/perstack-runtime/providers.test.ts[2m > [22m[2mLLM Providers[2m > [22m[2mshould complete with 'google' provider
2025-12-23T04:13:48.3170417Z [22m[39mSkipping openai test: API key not available
2025-12-23T04:13:48.3171063Z Skipping google test: API key not available
2025-12-23T04:13:48.3171382Z 
2025-12-23T04:13:49.7926524Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/providers.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1481[2mms[22m[39m
2025-12-23T04:13:49.7927559Z      [32m✓[39m should complete with 'openai' provider[32m 5[2mms[22m[39m
2025-12-23T04:13:49.7928590Z [31m     [31m×[31m should complete with 'anthropic' provider[39m[33m 1480[2mms[22m[39m
2025-12-23T04:13:49.7929971Z      [32m✓[39m should complete with 'google' provider[32m 5[2mms[22m[39m
2025-12-23T04:13:51.8017500Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/limits.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1874[2mms[22m[39m
2025-12-23T04:13:51.8018558Z [31m     [31m×[31m should accept --max-steps option and complete within limit[39m[33m 1873[2mms[22m[39m
2025-12-23T04:13:51.8019523Z      [33m[2m✓[22m[39m should accept --max-retries option [33m 1846[2mms[22m[39m
2025-12-23T04:13:55.2470870Z  [32m✓[39m [30m[45m e2e [49m[39m e2e/perstack-cli/registry.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 3317[2mms[22m[39m
2025-12-23T04:13:55.2471808Z      [33m[2m✓[22m[39m should fail gracefully for nonexistent remote expert [33m 3049[2mms[22m[39m
2025-12-23T04:13:55.2472818Z      [33m[2m✓[22m[39m should fail gracefully for invalid expert key format [33m 3094[2mms[22m[39m
2025-12-23T04:13:55.2474231Z      [33m[2m✓[22m[39m should fail gracefully when delegating to nonexistent remote expert [33m 3315[2mms[22m[39m
2025-12-23T04:13:58.1584703Z  [32m✓[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/storage-behavior.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 2782[2mms[22m[39m
2025-12-23T04:13:58.1586286Z      [33m[2m✓[22m[39m should create storage files when running expert via perstack CLI [33m 2780[2mms[22m[39m
2025-12-23T04:13:59.7498397Z  [31m❯[39m [30m[45m e2e [49m[39m e2e/perstack-runtime/interactive.test.ts [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1459[2mms[22m[39m
2025-12-23T04:13:59.7500167Z [31m     [31m×[31m should stop at interactive tool and emit checkpoint[39m[33m 1458[2mms[22m[39m
2025-12-23T04:13:59.7530058Z 
2025-12-23T04:13:59.7530694Z [31m⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Tests 52 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m
2025-12-23T04:13:59.7531101Z 
2025-12-23T04:13:59.7536035Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/continue.test.ts[2m > [22mContinue Job[2m > [22mshould continue and complete job from interactive stop
2025-12-23T04:13:59.7541485Z [31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m
2025-12-23T04:13:59.7542040Z 
2025-12-23T04:13:59.7542263Z [32m- Expected[39m
2025-12-23T04:13:59.7542694Z [31m+ Received[39m
2025-12-23T04:13:59.7542914Z 
2025-12-23T04:13:59.7543079Z [32m- 1[39m
2025-12-23T04:13:59.7543434Z [31m+ 0[39m
2025-12-23T04:13:59.7543611Z 
2025-12-23T04:13:59.7544166Z [36m [2m❯[22m e2e/perstack-cli/continue.test.ts:[2m56:38[22m[39m
2025-12-23T04:13:59.7585685Z     [90m 54| [39m    [34mexpect[39m(initialResult[33m.[39mjobId)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()
2025-12-23T04:13:59.7586929Z     [90m 55| [39m    const initialStopEvents = filterEventsByType(initialResult.events,…
2025-12-23T04:13:59.7588234Z     [90m 56| [39m    [34mexpect[39m(initialStopEvents[33m.[39mlength)[33m.[39m[34mtoBe[39m([34m1[39m)
2025-12-23T04:13:59.7589357Z     [90m   | [39m                                     [31m^[39m
2025-12-23T04:13:59.7589789Z     [90m 57| [39m
2025-12-23T04:13:59.7590305Z     [90m 58| [39m    [35mconst[39m continueCmdResult [33m=[39m [35mawait[39m [34mrunCli[39m(
2025-12-23T04:13:59.7591155Z 
2025-12-23T04:13:59.7591584Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/52]⎯[22m[39m
2025-12-23T04:13:59.7591910Z 
2025-12-23T04:13:59.7593176Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/continue.test.ts[2m > [22mContinue Job[2m > [22mshould continue after parallel delegation and complete
2025-12-23T04:13:59.7594188Z [31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m
2025-12-23T04:13:59.7594673Z 
2025-12-23T04:13:59.7594896Z [32m- Expected[39m
2025-12-23T04:13:59.7595300Z [31m+ Received[39m
2025-12-23T04:13:59.7595511Z 
2025-12-23T04:13:59.7595674Z [32m- 1[39m
2025-12-23T04:13:59.7596013Z [31m+ 0[39m
2025-12-23T04:13:59.7596193Z 
2025-12-23T04:13:59.7596718Z [36m [2m❯[22m e2e/perstack-cli/continue.test.ts:[2m100:35[22m[39m
2025-12-23T04:13:59.7597579Z     [90m 98| [39m    [34mexpect[39m(initialResult[33m.[39mjobId)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()
2025-12-23T04:13:59.7598274Z     [90m 99| [39m    const delegateEvents = filterEventsByType(initialResult.events, "c…
2025-12-23T04:13:59.7598958Z     [90m100| [39m    [34mexpect[39m(delegateEvents[33m.[39mlength)[33m.[39m[34mtoBe[39m([34m1[39m)
2025-12-23T04:13:59.7599946Z     [90m   | [39m                                  [31m^[39m
2025-12-23T04:13:59.7600945Z     [90m101| [39m    [35mconst[39m delegateToolCalls [33m=[39m delegateEvents[33m.[39m[34mflatMap[39m(
2025-12-23T04:13:59.7602230Z     [90m102| [39m      (e) [33m=>[39m (e [35mas[39m { toolCalls[33m?[39m[33m:[39m unknown[] })[33m.[39mtoolCalls [33m??[39m [][33m,[39m
2025-12-23T04:13:59.7602797Z 
2025-12-23T04:13:59.7603146Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/52]⎯[22m[39m
2025-12-23T04:13:59.7603427Z 
2025-12-23T04:13:59.7604499Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/continue.test.ts[2m > [22mContinue Job[2m > [22mshould capture checkpoint ID for resume-from
2025-12-23T04:13:59.7605427Z [31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m
2025-12-23T04:13:59.7605718Z 
2025-12-23T04:13:59.7605841Z [32m- Expected[39m
2025-12-23T04:13:59.7606086Z [31m+ Received[39m
2025-12-23T04:13:59.7606208Z 
2025-12-23T04:13:59.7606311Z [32m- 1[39m
2025-12-23T04:13:59.7606582Z [31m+ 0[39m
2025-12-23T04:13:59.7606757Z 
2025-12-23T04:13:59.7607297Z [36m [2m❯[22m e2e/perstack-cli/continue.test.ts:[2m147:31[22m[39m
2025-12-23T04:13:59.7608133Z     [90m145| [39m    [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.7609002Z     [90m146| [39m    const stopEvents = filterEventsByType(result.events, "stopRunByInt…
2025-12-23T04:13:59.7610339Z     [90m147| [39m    [34mexpect[39m(stopEvents[33m.[39mlength)[33m.[39m[34mtoBe[39m([34m1[39m)
2025-12-23T04:13:59.7611233Z     [90m   | [39m                              [31m^[39m
2025-12-23T04:13:59.7612173Z     [90m148| [39m    const checkpoint = (stopEvents[0] as { checkpoint?: { id?: string …
2025-12-23T04:13:59.7612840Z     [90m149| [39m    [34mexpect[39m(checkpoint[33m?.[39mid)[33m.[39m[34mtoBeDefined[39m()
2025-12-23T04:13:59.7613155Z 
2025-12-23T04:13:59.7613379Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/52]⎯[22m[39m
2025-12-23T04:13:59.7613577Z 
2025-12-23T04:13:59.7614233Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/delegate.test.ts[2m > [22mDelegate to Expert[2m > [22mshould chain through multiple experts
2025-12-23T04:13:59.7615175Z [31m[1mAssertionError[22m: expected [ 'startRun:e2e-delegate-chain' ] to deeply equal [ Array(12) ][39m
2025-12-23T04:13:59.7615555Z 
2025-12-23T04:13:59.7615673Z [32m- Expected[39m
2025-12-23T04:13:59.7615915Z [31m+ Received[39m
2025-12-23T04:13:59.7616036Z 
2025-12-23T04:13:59.7616135Z [2m  [[22m
2025-12-23T04:13:59.7616439Z [2m    "startRun:e2e-delegate-chain",[22m
2025-12-23T04:13:59.7616850Z [32m-   "callDelegate:e2e-delegate-chain",[39m
2025-12-23T04:13:59.7617278Z [32m-   "stopRunByDelegate:e2e-delegate-chain",[39m
2025-12-23T04:13:59.7617820Z [32m-   "startRun:e2e-delegate-level1",[39m
2025-12-23T04:13:59.7618213Z [32m-   "callDelegate:e2e-delegate-level1",[39m
2025-12-23T04:13:59.7618639Z [32m-   "stopRunByDelegate:e2e-delegate-level1",[39m
2025-12-23T04:13:59.7619042Z [32m-   "startRun:e2e-delegate-level2",[39m
2025-12-23T04:13:59.7619690Z [32m-   "completeRun:e2e-delegate-level2",[39m
2025-12-23T04:13:59.7620084Z [32m-   "startRun:e2e-delegate-level1",[39m
2025-12-23T04:13:59.7620470Z [32m-   "completeRun:e2e-delegate-level1",[39m
2025-12-23T04:13:59.7620854Z [32m-   "startRun:e2e-delegate-chain",[39m
2025-12-23T04:13:59.7621237Z [32m-   "completeRun:e2e-delegate-chain",[39m
2025-12-23T04:13:59.7621525Z [2m  ][22m
2025-12-23T04:13:59.7621635Z 
2025-12-23T04:13:59.7621939Z [36m [2m❯[22m e2e/perstack-cli/delegate.test.ts:[2m56:25[22m[39m
2025-12-23T04:13:59.7622503Z     [90m 54| [39m      .map((e) => `${e.type}:${(e as { expertKey: string }).expertKey}…
2025-12-23T04:13:59.7623021Z     [90m 55| [39m
2025-12-23T04:13:59.7623458Z     [90m 56| [39m    [34mexpect[39m(controlFlow)[33m.[39m[34mtoEqual[39m([
2025-12-23T04:13:59.7623883Z     [90m   | [39m                        [31m^[39m
2025-12-23T04:13:59.7624309Z     [90m 57| [39m      [32m"startRun:e2e-delegate-chain"[39m[33m,[39m
2025-12-23T04:13:59.7624786Z     [90m 58| [39m      [32m"callDelegate:e2e-delegate-chain"[39m[33m,[39m
2025-12-23T04:13:59.7625034Z 
2025-12-23T04:13:59.7625253Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/52]⎯[22m[39m
2025-12-23T04:13:59.7625447Z 
2025-12-23T04:13:59.7626326Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-attack-scenarios.test.ts[2m > [22mDocker Attack Scenarios[2m > [22mshould allow symlink to container /etc/passwd (not host file)
2025-12-23T04:13:59.7627664Z [31m[1mAssertionError[22m: expected '{"type":"dockerBuildProgress","id":"f…' to match /root:x:0:0/[39m
2025-12-23T04:13:59.7628337Z 
2025-12-23T04:13:59.7628601Z [32m- Expected:[39m 
2025-12-23T04:13:59.7628962Z /root:x:0:0/
2025-12-23T04:13:59.7629357Z 
2025-12-23T04:13:59.7629586Z [31m+ Received:[39m 
2025-12-23T04:13:59.7631506Z "{\"type\":\"dockerBuildProgress\",\"id\":\"fx6fw6bb07pdkvclxqh6wqye\",\"timestamp\":1766462904256,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"stage\":\"building\",\"service\":\"runtime\",\"message\":\"Building Docker images...\"}
2025-12-23T04:13:59.7634646Z {\"type\":\"dockerBuildProgress\",\"id\":\"ayfu0pcdomdvef1bt98w17he\",\"timestamp\":1766462904768,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"stage\":\"complete\",\"service\":\"runtime\",\"message\":\"Docker images built successfully\"}
2025-12-23T04:13:59.7638300Z {\"type\":\"initializeRuntime\",\"id\":\"xcombr0jb9l6kjhy45o45j2q\",\"timestamp\":1766462909377,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"runtimeVersion\":\"0.0.70\",\"runtime\":\"local\",\"expertName\":\"attack-symlink\",\"experts\":[\"attack-metadata\",\"attack-ssrf\",\"attack-filesystem\",\"attack-symlink\",\"attack-proxy\",\"attack-env\",\"attack-exfiltrate\",\"attack-dns-exfil\",\"attack-harvest-env\",\"attack-allowed-domains\"],\"model\":\"claude-haiku-4-5\",\"temperature\":0,\"maxSteps\":100,\"maxRetries\":5,\"timeout\":300000,\"query\":\"Try symlink_attack with target_path '/etc/passwd' and link_name 'passwd_link'. Report if it succeeded or was blocked.\"}
2025-12-23T04:13:59.7643730Z {\"type\":\"skillStarting\",\"id\":\"qilh2cl13d7r4nfck1ktpuqv\",\"timestamp\":1766462909397,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\",\"command\":\"npx\",\"args\":[\"-y\",\"@perstack/base\"]}
2025-12-23T04:13:59.7647070Z {\"type\":\"skillStarting\",\"id\":\"hxe9xt418tavxr11cz7wp1g5\",\"timestamp\":1766462909430,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"attacker\",\"command\":\"npx\",\"args\":[\"-y\",\"@perstack/e2e-mcp-server\"]}
2025-12-23T04:13:59.7650430Z {\"type\":\"skillStderr\",\"id\":\"kedrlih976d3kc2suwmafeld\",\"timestamp\":1766462912317,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\",\"message\":\"npm error code EACCES\"}
2025-12-23T04:13:59.7663835Z {\"type\":\"skillStderr\",\"id\":\"i538qvj2cbyd1ncyfiyq5hp5\",\"timestamp\":1766462912318,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\",\"message\":\"npm error syscall spawn sh\\nnpm error path /workspace\\nnpm error errno -13\\nnpm error Error: spawn sh EACCES\\nnpm error     at ChildProcess._handle.onexit (node:internal/child_process:285:19)\\nnpm error     at onErrorNT (node:internal/child_process:483:16)\\nnpm error     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {\\nnpm error   errno: -13,\\nnpm error   code: 'EACCES',\\nnpm error   syscall: 'spawn sh',\\nnpm error   path: '/workspace',\\nnpm error   spawnargs: [ '-c', 'base' ],\\nnpm error   cmd: 'sh',\\nnpm error   args: [ '-c', 'base' ],\\nnpm error   stdout: null,\\nnpm error   stderr: null,\\nnpm error   event: 'npx',\\nnpm error   script: 'base',\\nnpm error   pkgid: undefined\\nnpm error }\\nnpm error\\nnpm error The operation was rejected by your operating system.\\nnpm error It is likely you do not have the permissions to access this file as the current user\\nnpm error\\nnpm error If you believe this might be a permissions issue, please double-check the\\nnpm error permissions of the file and its containing directories, or try running\\nnpm error the command again as root/Administrator.\\nnpm notice\\nnpm notice New major version of npm available! 10.9.4 -> 11.7.0\\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0\\nnpm notice To update run: npm install -g npm@11.7.0\\nnpm notice\\nnpm error A complete log of this run can be found in: /home/perstack/.npm/_logs/2025-12-23T04_08_29_668Z-debug-0.log\"}
2025-12-23T04:13:59.7683179Z {\"type\":\"skillStderr\",\"id\":\"df8hlipca4hfphc1xkvejj74\",\"timestamp\":1766462921206,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"attacker\",\"message\":\"npm error code EACCES\\nnpm error syscall spawn sh\\nnpm error path /workspace\\nnpm error errno -13\\nnpm error Error: spawn sh EACCES\\nnpm error     at ChildProcess._handle.onexit (node:internal/child_process:285:19)\\nnpm error     at onErrorNT (node:internal/child_process:483:16)\\nnpm error     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {\\nnpm error   errno: -13,\\nnpm error   code: 'EACCES',\\nnpm error   syscall: 'spawn sh',\\nnpm error   path: '/workspace',\\nnpm error   spawnargs: [ '-c', 'e2e-mcp-server' ],\\nnpm error   cmd: 'sh',\\nnpm error   args: [ '-c', 'e2e-mcp-server' ],\\nnpm error   stdout: null,\\nnpm error   stderr: null,\\nnpm error   event: 'npx',\\nnpm error   script: 'e2e-mcp-server',\\nnpm error   pkgid: undefined\\nnpm error }\\nnpm error\\nnpm error The operation was rejected by your operating system.\\nnpm error It is likely you do not have the permissions to access this file as the current user\\nnpm error\\nnpm error If you believe this might be a permissions issue, please double-check the\\nnpm error permissions of the file and its containing directories, or try running\\nnpm error the command again as root/Administrator.\"}
2025-12-23T04:13:59.7693241Z {\"type\":\"skillStderr\",\"id\":\"zdcwkmuqvpvwf96dzkgt4m5p\",\"timestamp\":1766462921210,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"attacker\",\"message\":\"npm error A complete log of this run can be found in: /home/perstack/.npm/_logs/2025-12-23T04_08_29_681Z-debug-0.log\"}
2025-12-23T04:13:59.7696513Z {\"type\":\"skillDisconnected\",\"id\":\"o9qq3ek2zbwlh5n206zlje52\",\"timestamp\":1766462921244,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\"}
2025-12-23T04:13:59.7699393Z {\"type\":\"skillDisconnected\",\"id\":\"dl7njorocc1dv7qc72t2mpfm\",\"timestamp\":1766462921245,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"attacker\"}
2025-12-23T04:13:59.7701364Z Docker container failed with exit code 1:  Network perstack-docker-gbzdps_perstack-net-internal  Creating
2025-12-23T04:13:59.7702494Z  Network perstack-docker-gbzdps_perstack-net-internal  Created
2025-12-23T04:13:59.7703343Z  Network perstack-docker-gbzdps_perstack-net  Creating
2025-12-23T04:13:59.7704112Z  Network perstack-docker-gbzdps_perstack-net  Created
2025-12-23T04:13:59.7704916Z  Container perstack-docker-gbzdps-proxy-1  Creating
2025-12-23T04:13:59.7705879Z  Container perstack-docker-gbzdps-proxy-1  Created
2025-12-23T04:13:59.7706764Z  Container perstack-docker-gbzdps-proxy-1  Starting
2025-12-23T04:13:59.7707842Z  Container perstack-docker-gbzdps-proxy-1  Started
2025-12-23T04:13:59.7709434Z (node:1) [UNDICI-EHPA] Warning: EnvHttpProxyAgent is experimental, expect them to change at any time.
2025-12-23T04:13:59.7710972Z (Use `node --trace-warnings ...` to show where the warning was created)
2025-12-23T04:13:59.7711881Z MCP error -32000: Connection closed
2025-12-23T04:13:59.7712256Z 
2025-12-23T04:13:59.7712266Z 
2025-12-23T04:13:59.7712539Z "
2025-12-23T04:13:59.7712765Z 
2025-12-23T04:13:59.7713891Z [36m [2m❯[22m e2e/perstack-cli/docker-attack-scenarios.test.ts:[2m230:20[22m[39m
2025-12-23T04:13:59.7715023Z     [90m228| [39m    )
2025-12-23T04:13:59.7716339Z     [90m229| [39m    [35mconst[39m output [33m=[39m result[33m.[39mstdout [33m+[39m result[33m.[39mstderr
2025-12-23T04:13:59.7730111Z     [90m230| [39m    [34mexpect[39m(output)[33m.[39m[34mtoMatch[39m([36m/root:x:0:0/[39m)
2025-12-23T04:13:59.7730973Z     [90m   | [39m                   [31m^[39m
2025-12-23T04:13:59.7732076Z     [90m231| [39m    [34mexpect[39m(output)[33m.[39mnot[33m.[39m[34mtoMatch[39m([36m/actual-host-username/[39m)
2025-12-23T04:13:59.7732882Z     [90m232| [39m  })
2025-12-23T04:13:59.7733095Z 
2025-12-23T04:13:59.7733497Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/52]⎯[22m[39m
2025-12-23T04:13:59.7733818Z 
2025-12-23T04:13:59.7735133Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-security.test.ts[2m > [22mDocker Security Sandbox[2m > [22mshould allow access to domains in allowlist
2025-12-23T04:13:59.7736641Z [31m[1mAssertionError[22m: expected 1 to be +0 // Object.is equality[39m
2025-12-23T04:13:59.7737135Z 
2025-12-23T04:13:59.7737350Z [32m- Expected[39m
2025-12-23T04:13:59.7737754Z [31m+ Received[39m
2025-12-23T04:13:59.7737951Z 
2025-12-23T04:13:59.7738115Z [32m- 0[39m
2025-12-23T04:13:59.7738460Z [31m+ 1[39m
2025-12-23T04:13:59.7738646Z 
2025-12-23T04:13:59.7739409Z [36m [2m❯[22m e2e/perstack-cli/docker-security.test.ts:[2m86:29[22m[39m
2025-12-23T04:13:59.7740621Z     [90m 84| [39m      { timeout[33m:[39m [33mLLM_TIMEOUT[39m }[33m,[39m
2025-12-23T04:13:59.7741258Z     [90m 85| [39m    )
2025-12-23T04:13:59.7742308Z     [90m 86| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7743198Z     [90m   | [39m                            [31m^[39m
2025-12-23T04:13:59.7743728Z     [90m 87| [39m  })
2025-12-23T04:13:59.7744130Z     [90m 88| [39m
2025-12-23T04:13:59.7744329Z 
2025-12-23T04:13:59.7744730Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/52]⎯[22m[39m
2025-12-23T04:13:59.7745066Z 
2025-12-23T04:13:59.7746504Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-security.test.ts[2m > [22mDocker Security Sandbox[2m > [22mshould allow access to domains in skill allowlist
2025-12-23T04:13:59.7748017Z [31m[1mAssertionError[22m: expected 1 to be +0 // Object.is equality[39m
2025-12-23T04:13:59.7748483Z 
2025-12-23T04:13:59.7748694Z [32m- Expected[39m
2025-12-23T04:13:59.7749088Z [31m+ Received[39m
2025-12-23T04:13:59.7751256Z 
2025-12-23T04:13:59.7751474Z [32m- 0[39m
2025-12-23T04:13:59.7751869Z [31m+ 1[39m
2025-12-23T04:13:59.7752056Z 
2025-12-23T04:13:59.7752659Z [36m [2m❯[22m e2e/perstack-cli/docker-security.test.ts:[2m226:29[22m[39m
2025-12-23T04:13:59.7753588Z     [90m224| [39m      { timeout[33m:[39m [33mLLM_TIMEOUT[39m }[33m,[39m
2025-12-23T04:13:59.7754184Z     [90m225| [39m    )
2025-12-23T04:13:59.7755030Z     [90m226| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7755885Z     [90m   | [39m                            [31m^[39m
2025-12-23T04:13:59.7756388Z     [90m227| [39m  })
2025-12-23T04:13:59.7756771Z     [90m228| [39m
2025-12-23T04:13:59.7756972Z 
2025-12-23T04:13:59.7757360Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/52]⎯[22m[39m
2025-12-23T04:13:59.7757673Z 
2025-12-23T04:13:59.7759028Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-security.test.ts[2m > [22mDocker Security Sandbox[2m > [22mshould auto-include provider API domain
2025-12-23T04:13:59.7760876Z [31m[1mAssertionError[22m: expected 1 to be +0 // Object.is equality[39m
2025-12-23T04:13:59.7761376Z 
2025-12-23T04:13:59.7761599Z [32m- Expected[39m
2025-12-23T04:13:59.7762024Z [31m+ Received[39m
2025-12-23T04:13:59.7762242Z 
2025-12-23T04:13:59.7762410Z [32m- 0[39m
2025-12-23T04:13:59.7762762Z [31m+ 1[39m
2025-12-23T04:13:59.7762946Z 
2025-12-23T04:13:59.7763556Z [36m [2m❯[22m e2e/perstack-cli/docker-security.test.ts:[2m257:29[22m[39m
2025-12-23T04:13:59.7764507Z     [90m255| [39m      { timeout[33m:[39m [33mLLM_TIMEOUT[39m }[33m,[39m
2025-12-23T04:13:59.7765119Z     [90m256| [39m    )
2025-12-23T04:13:59.7765981Z     [90m257| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7766855Z     [90m   | [39m                            [31m^[39m
2025-12-23T04:13:59.7767366Z     [90m258| [39m  })
2025-12-23T04:13:59.7767768Z     [90m259| [39m
2025-12-23T04:13:59.7767964Z 
2025-12-23T04:13:59.7768355Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/52]⎯[22m[39m
2025-12-23T04:13:59.7768689Z 
2025-12-23T04:13:59.7770255Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/docker-security.test.ts[2m > [22mDocker Security Sandbox[2m > [22mshould merge allowedDomains from multiple skills
2025-12-23T04:13:59.7771819Z [31m[1mAssertionError[22m: expected 1 to be +0 // Object.is equality[39m
2025-12-23T04:13:59.7772301Z 
2025-12-23T04:13:59.7772512Z [32m- Expected[39m
2025-12-23T04:13:59.7772923Z [31m+ Received[39m
2025-12-23T04:13:59.7773139Z 
2025-12-23T04:13:59.7773305Z [32m- 0[39m
2025-12-23T04:13:59.7773658Z [31m+ 1[39m
2025-12-23T04:13:59.7773850Z 
2025-12-23T04:13:59.7774457Z [36m [2m❯[22m e2e/perstack-cli/docker-security.test.ts:[2m277:29[22m[39m
2025-12-23T04:13:59.7775411Z     [90m275| [39m      { timeout[33m:[39m [33mLLM_TIMEOUT[39m }[33m,[39m
2025-12-23T04:13:59.7776024Z     [90m276| [39m    )
2025-12-23T04:13:59.7777103Z     [90m277| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7778154Z     [90m   | [39m                            [31m^[39m
2025-12-23T04:13:59.7778658Z     [90m278| [39m  })
2025-12-23T04:13:59.7779038Z     [90m279| [39m
2025-12-23T04:13:59.7779408Z 
2025-12-23T04:13:59.7779808Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/52]⎯[22m[39m
2025-12-23T04:13:59.7780147Z 
2025-12-23T04:13:59.7781596Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/interactive.test.ts[2m > [22mInteractive Input[2m > [22mshould handle mixed tool calls with delegate and interactive stop
2025-12-23T04:13:59.7783199Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7783722Z 
2025-12-23T04:13:59.7783934Z [32m- Expected[39m
2025-12-23T04:13:59.7784352Z [31m+ Received[39m
2025-12-23T04:13:59.7784579Z 
2025-12-23T04:13:59.7784757Z [32m- true[39m
2025-12-23T04:13:59.7785157Z [31m+ false[39m
2025-12-23T04:13:59.7785350Z 
2025-12-23T04:13:59.7785923Z [36m [2m❯[22m e2e/perstack-cli/interactive.test.ts:[2m45:71[22m[39m
2025-12-23T04:13:59.7786922Z     [90m 43| [39m    [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.7787596Z     [90m 44| [39m
2025-12-23T04:13:59.7788405Z     [90m 45| [39m    expect(assertToolCallCount(result.events, "callTools", 3).passed).…
2025-12-23T04:13:59.7789605Z     [90m   | [39m                                                                      [31m^[39m
2025-12-23T04:13:59.7790283Z     [90m 46| [39m    [34mexpect[39m(
2025-12-23T04:13:59.7791234Z     [90m 47| [39m      [34massertEventSequenceContains[39m(result[33m.[39mevents[33m,[39m [
2025-12-23T04:13:59.7791826Z 
2025-12-23T04:13:59.7792229Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/52]⎯[22m[39m
2025-12-23T04:13:59.7792567Z 
2025-12-23T04:13:59.7793634Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/log.test.ts[2m > [22mLog Command[2m > [22mshould accept errors preset
2025-12-23T04:13:59.7795305Z [31m[1mAssertionError[22m: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'[39m
2025-12-23T04:13:59.7796006Z 
2025-12-23T04:13:59.7796244Z [32m- Expected[39m
2025-12-23T04:13:59.7796688Z [31m+ Received[39m
2025-12-23T04:13:59.7796912Z 
2025-12-23T04:13:59.7797152Z [32m- No data found[39m
2025-12-23T04:13:59.7797679Z [31m+ (showing latest job)[39m
2025-12-23T04:13:59.7798103Z [31m+[39m
2025-12-23T04:13:59.7798784Z [31m+ Storage: /home/runner/work/perstack/perstack/perstack[39m
2025-12-23T04:13:59.7799571Z [31m+[39m
2025-12-23T04:13:59.7800149Z [31m+ Job: rfh137m6tas44eibrtskxyua (running)[39m
2025-12-23T04:13:59.7800831Z [31m+ Expert: e2e-mixed-tools[39m
2025-12-23T04:13:59.7801459Z [31m+ Started: 2025-12-23 04:13:32[39m
2025-12-23T04:13:59.7801960Z [31m+ Steps: 1[39m
2025-12-23T04:13:59.7802481Z [31m+ Finished: 2025-12-23 04:13:42[39m
2025-12-23T04:13:59.7802969Z [31m+[39m
2025-12-23T04:13:59.7803348Z [31m+ Events:[39m
2025-12-23T04:13:59.7804067Z [31m+ ──────────────────────────────────────────────────[39m
2025-12-23T04:13:59.7804826Z [31m+ [Step 1] stopRunByError          04:13:32[39m
2025-12-23T04:13:59.7805551Z [31m+   Error: AI_NoOutputGeneratedError[39m
2025-12-23T04:13:59.7806439Z [31m+   Message: No output generated. Check the stream for errors.[39m
2025-12-23T04:13:59.7807176Z [31m+   Retryable: false[39m
2025-12-23T04:13:59.7807628Z [31m+[39m
2025-12-23T04:13:59.7808283Z [31m+ ──────────────────────────────────────────────────[39m
2025-12-23T04:13:59.7808819Z [31m+[39m
2025-12-23T04:13:59.7809008Z 
2025-12-23T04:13:59.7809673Z [36m [2m❯[22m e2e/perstack-cli/log.test.ts:[2m48:27[22m[39m
2025-12-23T04:13:59.7810835Z     [90m 46| [39m  [34mit[39m([32m"should accept errors preset"[39m[33m,[39m [35masync[39m () [33m=>[39m {
2025-12-23T04:13:59.7812473Z     [90m 47| [39m    [35mconst[39m result [33m=[39m [35mawait[39m [34mrunCli[39m([[32m"log"[39m[33m,[39m [32m"--errors"[39m])
2025-12-23T04:13:59.7814050Z     [90m 48| [39m    [34mexpect[39m(result[33m.[39mstdout)[33m.[39m[34mtoContain[39m([32m"No data found"[39m)
2025-12-23T04:13:59.7815000Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7815540Z     [90m 49| [39m  })
2025-12-23T04:13:59.7815958Z     [90m 50| [39m
2025-12-23T04:13:59.7816165Z 
2025-12-23T04:13:59.7816587Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/52]⎯[22m[39m
2025-12-23T04:13:59.7816925Z 
2025-12-23T04:13:59.7817967Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/log.test.ts[2m > [22mLog Command[2m > [22mshould accept tools preset
2025-12-23T04:13:59.7819771Z [31m[1mAssertionError[22m: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'[39m
2025-12-23T04:13:59.7820467Z 
2025-12-23T04:13:59.7820724Z [32m- Expected[39m
2025-12-23T04:13:59.7821163Z [31m+ Received[39m
2025-12-23T04:13:59.7821387Z 
2025-12-23T04:13:59.7821695Z [32m- No data found[39m
2025-12-23T04:13:59.7822314Z [31m+ (showing latest job)[39m
2025-12-23T04:13:59.7822771Z [31m+[39m
2025-12-23T04:13:59.7823494Z [31m+ Storage: /home/runner/work/perstack/perstack/perstack[39m
2025-12-23T04:13:59.7824141Z [31m+[39m
2025-12-23T04:13:59.7824708Z [31m+ Job: rfh137m6tas44eibrtskxyua (running)[39m
2025-12-23T04:13:59.7825357Z [31m+ Expert: e2e-mixed-tools[39m
2025-12-23T04:13:59.7825956Z [31m+ Started: 2025-12-23 04:13:32[39m
2025-12-23T04:13:59.7826453Z [31m+ Steps: 1[39m
2025-12-23T04:13:59.7827058Z [31m+ Finished: 2025-12-23 04:13:44[39m
2025-12-23T04:13:59.7827534Z [31m+[39m
2025-12-23T04:13:59.7827963Z [31m+[39m
2025-12-23T04:13:59.7828147Z 
2025-12-23T04:13:59.7828711Z [36m [2m❯[22m e2e/perstack-cli/log.test.ts:[2m53:27[22m[39m
2025-12-23T04:13:59.7830032Z     [90m 51| [39m  [34mit[39m([32m"should accept tools preset"[39m[33m,[39m [35masync[39m () [33m=>[39m {
2025-12-23T04:13:59.7831478Z     [90m 52| [39m    [35mconst[39m result [33m=[39m [35mawait[39m [34mrunCli[39m([[32m"log"[39m[33m,[39m [32m"--tools"[39m])
2025-12-23T04:13:59.7832929Z     [90m 53| [39m    [34mexpect[39m(result[33m.[39mstdout)[33m.[39m[34mtoContain[39m([32m"No data found"[39m)
2025-12-23T04:13:59.7833913Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7834454Z     [90m 54| [39m  })
2025-12-23T04:13:59.7834860Z     [90m 55| [39m
2025-12-23T04:13:59.7835073Z 
2025-12-23T04:13:59.7835480Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/52]⎯[22m[39m
2025-12-23T04:13:59.7835813Z 
2025-12-23T04:13:59.7836860Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/log.test.ts[2m > [22mLog Command[2m > [22mshould accept summary option
2025-12-23T04:13:59.7838544Z [31m[1mAssertionError[22m: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'[39m
2025-12-23T04:13:59.7839479Z 
2025-12-23T04:13:59.7839731Z [32m- Expected[39m
2025-12-23T04:13:59.7840428Z [31m+ Received[39m
2025-12-23T04:13:59.7840695Z 
2025-12-23T04:13:59.7840969Z [32m- No data found[39m
2025-12-23T04:13:59.7841528Z [31m+ (showing latest job)[39m
2025-12-23T04:13:59.7841990Z [31m+[39m
2025-12-23T04:13:59.7842719Z [31m+ Storage: /home/runner/work/perstack/perstack/perstack[39m
2025-12-23T04:13:59.7843376Z [31m+[39m
2025-12-23T04:13:59.7843979Z [31m+ Job: rfh137m6tas44eibrtskxyua (running)[39m
2025-12-23T04:13:59.7844665Z [31m+ Expert: e2e-mixed-tools[39m
2025-12-23T04:13:59.7845299Z [31m+ Started: 2025-12-23 04:13:32[39m
2025-12-23T04:13:59.7845832Z [31m+ Steps: 1[39m
2025-12-23T04:13:59.7846385Z [31m+ Finished: 2025-12-23 04:13:46[39m
2025-12-23T04:13:59.7846852Z [31m+[39m
2025-12-23T04:13:59.7847248Z [31m+ Summary:[39m
2025-12-23T04:13:59.7847722Z [31m+   Total Events: 3[39m
2025-12-23T04:13:59.7848219Z [31m+   Errors: 1[39m
2025-12-23T04:13:59.7848682Z [31m+   Tool Calls: 0[39m
2025-12-23T04:13:59.7849356Z [31m+   Delegations: 0[39m
2025-12-23T04:13:59.7849944Z [31m+   Step Range: 1 - 1[39m
2025-12-23T04:13:59.7850385Z [31m+[39m
2025-12-23T04:13:59.7850980Z [31m+ Events:[39m
2025-12-23T04:13:59.7851663Z [31m+ ──────────────────────────────────────────────────[39m
2025-12-23T04:13:59.7852416Z [31m+ [Step 1] startRun                04:13:32[39m
2025-12-23T04:13:59.7853352Z [31m+   Query: "Test mixed tool calls: search, delegate, and ask user"[39m
2025-12-23T04:13:59.7854000Z [31m+[39m
2025-12-23T04:13:59.7854586Z [31m+ [Step 1] startGeneration         04:13:32[39m
2025-12-23T04:13:59.7855118Z [31m+[39m
2025-12-23T04:13:59.7855695Z [31m+ [Step 1] stopRunByError          04:13:32[39m
2025-12-23T04:13:59.7856429Z [31m+   Error: AI_NoOutputGeneratedError[39m
2025-12-23T04:13:59.7857334Z [31m+   Message: No output generated. Check the stream for errors.[39m
2025-12-23T04:13:59.7858076Z [31m+   Retryable: false[39m
2025-12-23T04:13:59.7858509Z [31m+[39m
2025-12-23T04:13:59.7859355Z [31m+ ──────────────────────────────────────────────────[39m
2025-12-23T04:13:59.7859898Z [31m+[39m
2025-12-23T04:13:59.7860076Z 
2025-12-23T04:13:59.7860665Z [36m [2m❯[22m e2e/perstack-cli/log.test.ts:[2m58:27[22m[39m
2025-12-23T04:13:59.7861821Z     [90m 56| [39m  [34mit[39m([32m"should accept summary option"[39m[33m,[39m [35masync[39m () [33m=>[39m {
2025-12-23T04:13:59.7863290Z     [90m 57| [39m    [35mconst[39m result [33m=[39m [35mawait[39m [34mrunCli[39m([[32m"log"[39m[33m,[39m [32m"--summary"[39m])
2025-12-23T04:13:59.7864705Z     [90m 58| [39m    [34mexpect[39m(result[33m.[39mstdout)[33m.[39m[34mtoContain[39m([32m"No data found"[39m)
2025-12-23T04:13:59.7865647Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7866175Z     [90m 59| [39m  })
2025-12-23T04:13:59.7866571Z     [90m 60| [39m
2025-12-23T04:13:59.7866779Z 
2025-12-23T04:13:59.7867170Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/52]⎯[22m[39m
2025-12-23T04:13:59.7867507Z 
2025-12-23T04:13:59.7868575Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/log.test.ts[2m > [22mLog Command[2m > [22mshould accept filter expression
2025-12-23T04:13:59.7870420Z [31m[1mAssertionError[22m: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'[39m
2025-12-23T04:13:59.7871126Z 
2025-12-23T04:13:59.7871362Z [32m- Expected[39m
2025-12-23T04:13:59.7871800Z [31m+ Received[39m
2025-12-23T04:13:59.7872017Z 
2025-12-23T04:13:59.7872255Z [32m- No data found[39m
2025-12-23T04:13:59.7872788Z [31m+ (showing latest job)[39m
2025-12-23T04:13:59.7873221Z [31m+[39m
2025-12-23T04:13:59.7873922Z [31m+ Storage: /home/runner/work/perstack/perstack/perstack[39m
2025-12-23T04:13:59.7874535Z [31m+[39m
2025-12-23T04:13:59.7875112Z [31m+ Job: rfh137m6tas44eibrtskxyua (running)[39m
2025-12-23T04:13:59.7875775Z [31m+ Expert: e2e-mixed-tools[39m
2025-12-23T04:13:59.7876398Z [31m+ Started: 2025-12-23 04:13:32[39m
2025-12-23T04:13:59.7876907Z [31m+ Steps: 1[39m
2025-12-23T04:13:59.7877647Z [31m+ Finished: 2025-12-23 04:13:48[39m
2025-12-23T04:13:59.7878140Z [31m+[39m
2025-12-23T04:13:59.7878498Z [31m+[39m
2025-12-23T04:13:59.7878679Z 
2025-12-23T04:13:59.7879386Z [36m [2m❯[22m e2e/perstack-cli/log.test.ts:[2m63:27[22m[39m
2025-12-23T04:13:59.7880580Z     [90m 61| [39m  [34mit[39m([32m"should accept filter expression"[39m[33m,[39m [35masync[39m () [33m=>[39m {
2025-12-23T04:13:59.7882275Z     [90m 62| [39m    [35mconst[39m result [33m=[39m [35mawait[39m [34mrunCli[39m([[32m"log"[39m[33m,[39m [32m"--filter"[39m[33m,[39m [32m".stepNumber > 1"[39m])
2025-12-23T04:13:59.7883829Z     [90m 63| [39m    [34mexpect[39m(result[33m.[39mstdout)[33m.[39m[34mtoContain[39m([32m"No data found"[39m)
2025-12-23T04:13:59.7884786Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7885303Z     [90m 64| [39m  })
2025-12-23T04:13:59.7885705Z     [90m 65| [39m})
2025-12-23T04:13:59.7885920Z 
2025-12-23T04:13:59.7886341Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/52]⎯[22m[39m
2025-12-23T04:13:59.7886690Z 
2025-12-23T04:13:59.7888004Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/publish.test.ts[2m > [22mPublish Expert[2m > [22mshould fail without version
2025-12-23T04:13:59.7889964Z [31m[1mAssertionError[22m: expected 'perstack.toml not found. Create one o…' to contain 'version'[39m
2025-12-23T04:13:59.7890644Z 
2025-12-23T04:13:59.7890881Z [32m- Expected[39m
2025-12-23T04:13:59.7891302Z [31m+ Received[39m
2025-12-23T04:13:59.7891519Z 
2025-12-23T04:13:59.7891723Z [32m- version[39m
2025-12-23T04:13:59.7892507Z [31m+ perstack.toml not found. Create one or specify --config path.[39m
2025-12-23T04:13:59.7893157Z [31m+[39m
2025-12-23T04:13:59.7893337Z 
2025-12-23T04:13:59.7893859Z [36m [2m❯[22m e2e/perstack-cli/publish.test.ts:[2m70:27[22m[39m
2025-12-23T04:13:59.7895393Z     [90m 68| [39m    [35mconst[39m result [33m=[39m [35mawait[39m [34mrunCli[39m([[32m"unpublish"[39m[33m,[39m [32m"no-version"[39m[33m,[39m [32m"--force"[39m])
2025-12-23T04:13:59.7896897Z     [90m 69| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m1[39m)
2025-12-23T04:13:59.7898178Z     [90m 70| [39m    [34mexpect[39m(result[33m.[39mstderr)[33m.[39m[34mtoContain[39m([32m"version"[39m)
2025-12-23T04:13:59.7899135Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7899873Z     [90m 71| [39m  })
2025-12-23T04:13:59.7900346Z     [90m 72| [39m
2025-12-23T04:13:59.7900546Z 
2025-12-23T04:13:59.7900953Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/52]⎯[22m[39m
2025-12-23T04:13:59.7901290Z 
2025-12-23T04:13:59.7902587Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/publish.test.ts[2m > [22mPublish Expert[2m > [22mshould fail without --force when version provided
2025-12-23T04:13:59.7904374Z [31m[1mAssertionError[22m: expected 'perstack.toml not found. Create one o…' to contain '--force'[39m
2025-12-23T04:13:59.7905054Z 
2025-12-23T04:13:59.7905297Z [32m- Expected[39m
2025-12-23T04:13:59.7905736Z [31m+ Received[39m
2025-12-23T04:13:59.7905968Z 
2025-12-23T04:13:59.7906183Z [32m- --force[39m
2025-12-23T04:13:59.7906949Z [31m+ perstack.toml not found. Create one or specify --config path.[39m
2025-12-23T04:13:59.7907363Z [31m+[39m
2025-12-23T04:13:59.7907480Z 
2025-12-23T04:13:59.7907795Z [36m [2m❯[22m e2e/perstack-cli/publish.test.ts:[2m77:27[22m[39m
2025-12-23T04:13:59.7908557Z     [90m 75| [39m    [35mconst[39m result [33m=[39m [35mawait[39m [34mrunCli[39m([[32m"unpublish"[39m[33m,[39m [32m"expert@1.0.0"[39m])
2025-12-23T04:13:59.7909549Z     [90m 76| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m1[39m)
2025-12-23T04:13:59.7910248Z     [90m 77| [39m    [34mexpect[39m(result[33m.[39mstderr)[33m.[39m[34mtoContain[39m([32m"--force"[39m)
2025-12-23T04:13:59.7910764Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7911248Z     [90m 78| [39m  })
2025-12-23T04:13:59.7911501Z     [90m 79| [39m
2025-12-23T04:13:59.7911629Z 
2025-12-23T04:13:59.7911856Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/52]⎯[22m[39m
2025-12-23T04:13:59.7912045Z 
2025-12-23T04:13:59.7913174Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/runtime-selection.test.ts[2m > [22mRuntime Selection[2m > [22mshould run with local runtime
2025-12-23T04:13:59.7914057Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7914359Z 
2025-12-23T04:13:59.7914484Z [32m- Expected[39m
2025-12-23T04:13:59.7914966Z [31m+ Received[39m
2025-12-23T04:13:59.7915180Z 
2025-12-23T04:13:59.7915363Z [32m- true[39m
2025-12-23T04:13:59.7915691Z [31m+ false[39m
2025-12-23T04:13:59.7915863Z 
2025-12-23T04:13:59.7916369Z [36m [2m❯[22m e2e/perstack-cli/runtime-selection.test.ts:[2m55:85[22m[39m
2025-12-23T04:13:59.7917480Z     [90m 53| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7918661Z     [90m 54| [39m    [35mconst[39m events [33m=[39m [34mparseEvents[39m(result[33m.[39mstdout)
2025-12-23T04:13:59.7920322Z     [90m 55| [39m    expect(assertEventSequenceContains(events, ["startRun", "completeR…
2025-12-23T04:13:59.7921400Z     [90m   | [39m                                                                                    [31m^[39m
2025-12-23T04:13:59.7922010Z     [90m 56| [39m  })
2025-12-23T04:13:59.7922430Z     [90m 57| [39m
2025-12-23T04:13:59.7922630Z 
2025-12-23T04:13:59.7923059Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/52]⎯[22m[39m
2025-12-23T04:13:59.7923419Z 
2025-12-23T04:13:59.7924731Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/runtime-selection.test.ts[2m > [22mRuntime Selection[2m > [22mshould run with docker runtime
2025-12-23T04:13:59.7926356Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7926921Z 
2025-12-23T04:13:59.7927198Z [32m- Expected[39m
2025-12-23T04:13:59.7927669Z [31m+ Received[39m
2025-12-23T04:13:59.7927908Z 
2025-12-23T04:13:59.7928089Z [32m- true[39m
2025-12-23T04:13:59.7928501Z [31m+ false[39m
2025-12-23T04:13:59.7928719Z 
2025-12-23T04:13:59.7929588Z [36m [2m❯[22m e2e/perstack-cli/runtime-selection.test.ts:[2m154:85[22m[39m
2025-12-23T04:13:59.7930820Z     [90m152| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7932058Z     [90m153| [39m    [35mconst[39m events [33m=[39m [34mparseEvents[39m(result[33m.[39mstdout)
2025-12-23T04:13:59.7933282Z     [90m154| [39m    expect(assertEventSequenceContains(events, ["startRun", "completeR…
2025-12-23T04:13:59.7934359Z     [90m   | [39m                                                                                    [31m^[39m
2025-12-23T04:13:59.7934714Z     [90m155| [39m  })
2025-12-23T04:13:59.7934956Z     [90m156| [39m
2025-12-23T04:13:59.7935078Z 
2025-12-23T04:13:59.7935323Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/52]⎯[22m[39m
2025-12-23T04:13:59.7935523Z 
2025-12-23T04:13:59.7936823Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/runtime-selection.test.ts[2m > [22mRuntime Selection[2m > [22mshould use runtime from perstack.toml when --runtime not specified
2025-12-23T04:13:59.7938579Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7939098Z 
2025-12-23T04:13:59.7939603Z [32m- Expected[39m
2025-12-23T04:13:59.7940039Z [31m+ Received[39m
2025-12-23T04:13:59.7940259Z 
2025-12-23T04:13:59.7940429Z [32m- true[39m
2025-12-23T04:13:59.7940816Z [31m+ false[39m
2025-12-23T04:13:59.7941024Z 
2025-12-23T04:13:59.7941653Z [36m [2m❯[22m e2e/perstack-cli/runtime-selection.test.ts:[2m171:92[22m[39m
2025-12-23T04:13:59.7942364Z     [90m169| [39m    )
2025-12-23T04:13:59.7943192Z     [90m170| [39m    [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.7944668Z     [90m171| [39m    expect(assertEventSequenceContains(result.events, ["startRun", "co…
2025-12-23T04:13:59.7945988Z     [90m   | [39m                                                                                           [31m^[39m
2025-12-23T04:13:59.7946712Z     [90m172| [39m      [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.7947247Z     [90m173| [39m    )
2025-12-23T04:13:59.7947486Z 
2025-12-23T04:13:59.7947890Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/52]⎯[22m[39m
2025-12-23T04:13:59.7948224Z 
2025-12-23T04:13:59.7949858Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-cli/validation.test.ts[2m > [22mCLI Validation[2m > [22mshould fail when --resume-from is used without --continue-job
2025-12-23T04:13:59.7951940Z [31m[1mAssertionError[22m: expected 'perstack.toml not found. Create one o…' to contain '--resume-from requires --continue-job'[39m
2025-12-23T04:13:59.7952749Z 
2025-12-23T04:13:59.7953001Z [32m- Expected[39m
2025-12-23T04:13:59.7953478Z [31m+ Received[39m
2025-12-23T04:13:59.7953719Z 
2025-12-23T04:13:59.7954126Z [32m- --resume-from requires --continue-job[39m
2025-12-23T04:13:59.7955083Z [31m+ perstack.toml not found. Create one or specify --config path.[39m
2025-12-23T04:13:59.7955750Z [31m+[39m
2025-12-23T04:13:59.7955936Z 
2025-12-23T04:13:59.7956492Z [36m [2m❯[22m e2e/perstack-cli/validation.test.ts:[2m72:27[22m[39m
2025-12-23T04:13:59.7957142Z     [90m 70| [39m    ])
2025-12-23T04:13:59.7958002Z     [90m 71| [39m    [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m1[39m)
2025-12-23T04:13:59.7959120Z     [90m 72| [39m    expect(result.stderr).toContain("--resume-from requires --continue…
2025-12-23T04:13:59.7960220Z     [90m   | [39m                          [31m^[39m
2025-12-23T04:13:59.7960756Z     [90m 73| [39m  })
2025-12-23T04:13:59.7961161Z     [90m 74| [39m
2025-12-23T04:13:59.7961366Z 
2025-12-23T04:13:59.7961771Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/52]⎯[22m[39m
2025-12-23T04:13:59.7962103Z 
2025-12-23T04:13:59.7963710Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/bundled-base.test.ts[2m > [22mBundled Base Skill[2m > [22mshould use InMemoryTransport for bundled base (spawnDurationMs = 0)
2025-12-23T04:13:59.7965428Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7965742Z 
2025-12-23T04:13:59.7965878Z [32m- Expected[39m
2025-12-23T04:13:59.7966121Z [31m+ Received[39m
2025-12-23T04:13:59.7966247Z 
2025-12-23T04:13:59.7966346Z [32m- true[39m
2025-12-23T04:13:59.7966568Z [31m+ false[39m
2025-12-23T04:13:59.7966692Z 
2025-12-23T04:13:59.7967034Z [36m [2m❯[22m e2e/perstack-runtime/bundled-base.test.ts:[2m30:94[22m[39m
2025-12-23T04:13:59.7967704Z     [90m 28| [39m
2025-12-23T04:13:59.7968559Z     [90m 29| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.7969906Z     [90m 30| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.7970960Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.7971678Z     [90m 31| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.7972204Z     [90m 32| [39m      )
2025-12-23T04:13:59.7972446Z 
2025-12-23T04:13:59.7972849Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/52]⎯[22m[39m
2025-12-23T04:13:59.7973180Z 
2025-12-23T04:13:59.7974515Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/bundled-base.test.ts[2m > [22mBundled Base Skill[2m > [22mshould have all base skill tools available
2025-12-23T04:13:59.7976194Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7976729Z 
2025-12-23T04:13:59.7976946Z [32m- Expected[39m
2025-12-23T04:13:59.7977368Z [31m+ Received[39m
2025-12-23T04:13:59.7977579Z 
2025-12-23T04:13:59.7977751Z [32m- true[39m
2025-12-23T04:13:59.7978134Z [31m+ false[39m
2025-12-23T04:13:59.7978558Z 
2025-12-23T04:13:59.7979356Z [36m [2m❯[22m e2e/perstack-runtime/bundled-base.test.ts:[2m73:30[22m[39m
2025-12-23T04:13:59.7980605Z     [90m 71| [39m        return event.toolCalls?.some((tc) => tc.toolName === "healthCh…
2025-12-23T04:13:59.7981287Z     [90m 72| [39m      })
2025-12-23T04:13:59.7982102Z     [90m 73| [39m      [34mexpect[39m(hasHealthCheck)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.7982927Z     [90m   | [39m                             [31m^[39m
2025-12-23T04:13:59.7983494Z     [90m 74| [39m    }[33m,[39m
2025-12-23T04:13:59.7984091Z     [90m 75| [39m    [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.7984431Z 
2025-12-23T04:13:59.7984814Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/52]⎯[22m[39m
2025-12-23T04:13:59.7985144Z 
2025-12-23T04:13:59.7986691Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/error-handling.test.ts[2m > [22mError Handling[2m > [22mshould recover from file not found error and complete successfully
2025-12-23T04:13:59.7988438Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.7989008Z 
2025-12-23T04:13:59.7989427Z [32m- Expected[39m
2025-12-23T04:13:59.7989880Z [31m+ Received[39m
2025-12-23T04:13:59.7990105Z 
2025-12-23T04:13:59.7990281Z [32m- true[39m
2025-12-23T04:13:59.7990672Z [31m+ false[39m
2025-12-23T04:13:59.7990886Z 
2025-12-23T04:13:59.7991515Z [36m [2m❯[22m e2e/perstack-runtime/error-handling.test.ts:[2m42:9[22m[39m
2025-12-23T04:13:59.7992622Z     [90m 40| [39m        assertEventSequenceContains(result.events, ["startRun", "callT…
2025-12-23T04:13:59.7993504Z     [90m 41| [39m          [33m.[39mpassed[33m,[39m
2025-12-23T04:13:59.7994225Z     [90m 42| [39m      )[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.7994855Z     [90m   | [39m        [31m^[39m
2025-12-23T04:13:59.7995726Z     [90m 43| [39m      const resolveEvents = filterEventsByType(result.events, "resolve…
2025-12-23T04:13:59.7997110Z     [90m 44| [39m      [35mconst[39m hasFileNotFoundError [33m=[39m resolveEvents[33m.[39m[34msome[39m((e) [33m=>[39m {
2025-12-23T04:13:59.7997825Z 
2025-12-23T04:13:59.7998262Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/52]⎯[22m[39m
2025-12-23T04:13:59.7998599Z 
2025-12-23T04:13:59.8000155Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/interactive.test.ts[2m > [22mInteractive Input[2m > [22mshould stop at interactive tool and emit checkpoint
2025-12-23T04:13:59.8001833Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8002388Z 
2025-12-23T04:13:59.8002605Z [32m- Expected[39m
2025-12-23T04:13:59.8003032Z [31m+ Received[39m
2025-12-23T04:13:59.8003247Z 
2025-12-23T04:13:59.8003416Z [32m- true[39m
2025-12-23T04:13:59.8003801Z [31m+ false[39m
2025-12-23T04:13:59.8004009Z 
2025-12-23T04:13:59.8004572Z [36m [2m❯[22m e2e/perstack-runtime/interactive.test.ts:[2m34:9[22m[39m
2025-12-23T04:13:59.8005543Z     [90m 32| [39m          [32m"stopRunByInteractiveTool"[39m[33m,[39m
2025-12-23T04:13:59.8006341Z     [90m 33| [39m        ])[33m.[39mpassed[33m,[39m
2025-12-23T04:13:59.8007069Z     [90m 34| [39m      )[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8007668Z     [90m   | [39m        [31m^[39m
2025-12-23T04:13:59.8008540Z     [90m 35| [39m      const stopEvent = result.events.find((e) => e.type === "stopRunB…
2025-12-23T04:13:59.8009743Z     [90m 36| [39m      [34mexpect[39m(stopEvent)[33m.[39m[34mtoBeDefined[39m()
2025-12-23T04:13:59.8010228Z 
2025-12-23T04:13:59.8010670Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/52]⎯[22m[39m
2025-12-23T04:13:59.8011004Z 
2025-12-23T04:13:59.8012391Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/lazy-init.test.ts[2m > [22mLazy Init[2m > [22mall lazyInit=false: all skills should be connected before startRun
2025-12-23T04:13:59.8013893Z [31m[1mAssertionError[22m: expected undefined to be defined[39m
2025-12-23T04:13:59.8015225Z [36m [2m❯[22m e2e/perstack-runtime/lazy-init.test.ts:[2m72:32[22m[39m
2025-12-23T04:13:59.8016334Z     [90m 70| [39m      [90m// Run should complete successfully[39m
2025-12-23T04:13:59.8017326Z     [90m 71| [39m      const completeRunEvent = events.find((e) => e.type === "complete…
2025-12-23T04:13:59.8018470Z     [90m 72| [39m      [34mexpect[39m(completeRunEvent)[33m.[39m[34mtoBeDefined[39m()
2025-12-23T04:13:59.8019550Z     [90m   | [39m                               [31m^[39m
2025-12-23T04:13:59.8020166Z     [90m 73| [39m    }[33m,[39m
2025-12-23T04:13:59.8020790Z     [90m 74| [39m    [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.8021150Z 
2025-12-23T04:13:59.8021559Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/52]⎯[22m[39m
2025-12-23T04:13:59.8021877Z 
2025-12-23T04:13:59.8023371Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/lazy-init.test.ts[2m > [22mLazy Init[2m > [22mmixed: lazyInit=false blocks startRun, lazyInit=true does not block
2025-12-23T04:13:59.8024901Z [31m[1mAssertionError[22m: expected undefined to be defined[39m
2025-12-23T04:13:59.8025955Z [36m [2m❯[22m e2e/perstack-runtime/lazy-init.test.ts:[2m121:32[22m[39m
2025-12-23T04:13:59.8026888Z     [90m119| [39m      [90m// Run should complete successfully[39m
2025-12-23T04:13:59.8027886Z     [90m120| [39m      const completeRunEvent = events.find((e) => e.type === "complete…
2025-12-23T04:13:59.8029036Z     [90m121| [39m      [34mexpect[39m(completeRunEvent)[33m.[39m[34mtoBeDefined[39m()
2025-12-23T04:13:59.8030152Z     [90m   | [39m                               [31m^[39m
2025-12-23T04:13:59.8030771Z     [90m122| [39m    }[33m,[39m
2025-12-23T04:13:59.8031417Z     [90m123| [39m    [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.8031783Z 
2025-12-23T04:13:59.8032197Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/52]⎯[22m[39m
2025-12-23T04:13:59.8032536Z 
2025-12-23T04:13:59.8033970Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/limits.test.ts[2m > [22mExecution Limits[2m > [22mshould accept --max-steps option and complete within limit
2025-12-23T04:13:59.8035632Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8036171Z 
2025-12-23T04:13:59.8036390Z [32m- Expected[39m
2025-12-23T04:13:59.8036822Z [31m+ Received[39m
2025-12-23T04:13:59.8037046Z 
2025-12-23T04:13:59.8037222Z [32m- true[39m
2025-12-23T04:13:59.8037618Z [31m+ false[39m
2025-12-23T04:13:59.8037826Z 
2025-12-23T04:13:59.8038396Z [36m [2m❯[22m e2e/perstack-runtime/limits.test.ts:[2m37:94[22m[39m
2025-12-23T04:13:59.8039639Z     [90m 35| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8040799Z     [90m 36| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8041948Z     [90m 37| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8043045Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8043787Z     [90m 38| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8044328Z     [90m 39| [39m      )
2025-12-23T04:13:59.8044582Z 
2025-12-23T04:13:59.8044992Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/52]⎯[22m[39m
2025-12-23T04:13:59.8045326Z 
2025-12-23T04:13:59.8046474Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/lockfile.test.ts[2m > [22mLockfile[2m > [22mshould run with lockfile present
2025-12-23T04:13:59.8047948Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8048500Z 
2025-12-23T04:13:59.8048720Z [32m- Expected[39m
2025-12-23T04:13:59.8049345Z [31m+ Received[39m
2025-12-23T04:13:59.8049588Z 
2025-12-23T04:13:59.8049785Z [32m- true[39m
2025-12-23T04:13:59.8050182Z [31m+ false[39m
2025-12-23T04:13:59.8050385Z 
2025-12-23T04:13:59.8051198Z [36m [2m❯[22m e2e/perstack-runtime/lockfile.test.ts:[2m68:94[22m[39m
2025-12-23T04:13:59.8052441Z     [90m 66| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(runResult)
2025-12-23T04:13:59.8053574Z     [90m 67| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8054734Z     [90m 68| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8055776Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8056483Z     [90m 69| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8057000Z     [90m 70| [39m      )
2025-12-23T04:13:59.8057249Z 
2025-12-23T04:13:59.8057640Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/52]⎯[22m[39m
2025-12-23T04:13:59.8057980Z 
2025-12-23T04:13:59.8059384Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/lockfile.test.ts[2m > [22mLockfile[2m > [22mshould run without lockfile (fallback)
2025-12-23T04:13:59.8060959Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8061504Z 
2025-12-23T04:13:59.8061731Z [32m- Expected[39m
2025-12-23T04:13:59.8062167Z [31m+ Received[39m
2025-12-23T04:13:59.8062389Z 
2025-12-23T04:13:59.8062566Z [32m- true[39m
2025-12-23T04:13:59.8062965Z [31m+ false[39m
2025-12-23T04:13:59.8063180Z 
2025-12-23T04:13:59.8063769Z [36m [2m❯[22m e2e/perstack-runtime/lockfile.test.ts:[2m85:94[22m[39m
2025-12-23T04:13:59.8064824Z     [90m 83| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(runResult)
2025-12-23T04:13:59.8065991Z     [90m 84| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8066850Z     [90m 85| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8067448Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8067880Z     [90m 86| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8068186Z     [90m 87| [39m      )
2025-12-23T04:13:59.8068331Z 
2025-12-23T04:13:59.8068559Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/52]⎯[22m[39m
2025-12-23T04:13:59.8068757Z 
2025-12-23T04:13:59.8069819Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/options.test.ts[2m > [22mCLI Options[2m > [22mshould accept --run-id option
2025-12-23T04:13:59.8070720Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8071040Z 
2025-12-23T04:13:59.8071165Z [32m- Expected[39m
2025-12-23T04:13:59.8071414Z [31m+ Received[39m
2025-12-23T04:13:59.8071550Z 
2025-12-23T04:13:59.8071651Z [32m- true[39m
2025-12-23T04:13:59.8071879Z [31m+ false[39m
2025-12-23T04:13:59.8071997Z 
2025-12-23T04:13:59.8072525Z [36m [2m❯[22m e2e/perstack-runtime/options.test.ts:[2m167:94[22m[39m
2025-12-23T04:13:59.8073156Z     [90m165| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8073829Z     [90m166| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8074477Z     [90m167| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8075069Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8075473Z     [90m168| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8075777Z     [90m169| [39m      )
2025-12-23T04:13:59.8075916Z 
2025-12-23T04:13:59.8076136Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/52]⎯[22m[39m
2025-12-23T04:13:59.8076324Z 
2025-12-23T04:13:59.8077014Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/providers.test.ts[2m > [22mLLM Providers[2m > [22mshould complete with 'anthropic' provider
2025-12-23T04:13:59.8077870Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8078314Z 
2025-12-23T04:13:59.8078440Z [32m- Expected[39m
2025-12-23T04:13:59.8078684Z [31m+ Received[39m
2025-12-23T04:13:59.8078812Z 
2025-12-23T04:13:59.8078912Z [32m- true[39m
2025-12-23T04:13:59.8079133Z [31m+ false[39m
2025-12-23T04:13:59.8079603Z 
2025-12-23T04:13:59.8079962Z [36m [2m❯[22m e2e/perstack-runtime/providers.test.ts:[2m41:94[22m[39m
2025-12-23T04:13:59.8080563Z     [90m 39| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8081200Z     [90m 40| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8081826Z     [90m 41| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8082406Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8082800Z     [90m 42| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8083111Z     [90m 43| [39m      )
2025-12-23T04:13:59.8083254Z 
2025-12-23T04:13:59.8083473Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/52]⎯[22m[39m
2025-12-23T04:13:59.8083663Z 
2025-12-23T04:13:59.8084601Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mAnthropic Extended Thinking[2m > [22mshould produce reasoning tokens when budget is set
2025-12-23T04:13:59.8085655Z [31m[1mAssertionError[22m: expected undefined to be true // Object.is equality[39m
2025-12-23T04:13:59.8085968Z 
2025-12-23T04:13:59.8086095Z [32m- Expected:[39m 
2025-12-23T04:13:59.8086301Z true
2025-12-23T04:13:59.8086407Z 
2025-12-23T04:13:59.8086533Z [31m+ Received:[39m 
2025-12-23T04:13:59.8086738Z undefined
2025-12-23T04:13:59.8086844Z 
2025-12-23T04:13:59.8087217Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m114:29[22m[39m
2025-12-23T04:13:59.8087747Z     [90m112| [39m        [35mconst[39m hasThinking [33m=[39m
2025-12-23T04:13:59.8088294Z     [90m113| [39m          result.reasoningTokens > 0 || (result.thinking && result.thi…
2025-12-23T04:13:59.8088899Z     [90m114| [39m        [34mexpect[39m(hasThinking)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8089636Z     [90m   | [39m                            [31m^[39m
2025-12-23T04:13:59.8089978Z     [90m115| [39m      }[33m,[39m
2025-12-23T04:13:59.8090330Z     [90m116| [39m      [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.8090528Z 
2025-12-23T04:13:59.8090750Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/52]⎯[22m[39m
2025-12-23T04:13:59.8090940Z 
2025-12-23T04:13:59.8091844Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mAnthropic Extended Thinking[2m > [22mshould emit streaming reasoning events
2025-12-23T04:13:59.8092923Z [31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
2025-12-23T04:13:59.8093572Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m145:46[22m[39m
2025-12-23T04:13:59.8094135Z     [90m143| [39m        [90m// Verify streaming events were emitted[39m
2025-12-23T04:13:59.8094702Z     [90m144| [39m        const streamReasoningEvents = result.events.filter((e) => e.ty…
2025-12-23T04:13:59.8095461Z     [90m145| [39m        [34mexpect[39m(streamReasoningEvents[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)
2025-12-23T04:13:59.8096072Z     [90m   | [39m                                             [31m^[39m
2025-12-23T04:13:59.8096386Z     [90m146| [39m
2025-12-23T04:13:59.8096769Z     [90m147| [39m        [90m// Verify start event preceded stream events[39m
2025-12-23T04:13:59.8097024Z 
2025-12-23T04:13:59.8097241Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/52]⎯[22m[39m
2025-12-23T04:13:59.8097431Z 
2025-12-23T04:13:59.8098405Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mAnthropic Extended Thinking[2m > [22mshould produce more reasoning tokens with higher budget
2025-12-23T04:13:59.8099730Z [31m[1mAssertionError[22m: expected undefined to be true // Object.is equality[39m
2025-12-23T04:13:59.8100053Z 
2025-12-23T04:13:59.8100178Z [32m- Expected:[39m 
2025-12-23T04:13:59.8100385Z true
2025-12-23T04:13:59.8100479Z 
2025-12-23T04:13:59.8100603Z [31m+ Received:[39m 
2025-12-23T04:13:59.8100803Z undefined
2025-12-23T04:13:59.8100903Z 
2025-12-23T04:13:59.8101266Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m175:36[22m[39m
2025-12-23T04:13:59.8101791Z     [90m173| [39m        [35mconst[39m highHasThinking [33m=[39m
2025-12-23T04:13:59.8102336Z     [90m174| [39m          highResult.reasoningTokens > 0 || (highResult.thinking && hi…
2025-12-23T04:13:59.8102990Z     [90m175| [39m        [34mexpect[39m(minimalHasThinking)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8103509Z     [90m   | [39m                                   [31m^[39m
2025-12-23T04:13:59.8104049Z     [90m176| [39m        [34mexpect[39m(highHasThinking)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8104499Z     [90m177| [39m      }[33m,[39m
2025-12-23T04:13:59.8104676Z 
2025-12-23T04:13:59.8104888Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/52]⎯[22m[39m
2025-12-23T04:13:59.8105080Z 
2025-12-23T04:13:59.8105986Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mOpenAI Reasoning Effort[2m > [22mshould produce reasoning tokens when budget is set
2025-12-23T04:13:59.8106974Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8107276Z 
2025-12-23T04:13:59.8107391Z [32m- Expected[39m
2025-12-23T04:13:59.8107636Z [31m+ Received[39m
2025-12-23T04:13:59.8107757Z 
2025-12-23T04:13:59.8107860Z [32m- true[39m
2025-12-23T04:13:59.8108095Z [31m+ false[39m
2025-12-23T04:13:59.8108209Z 
2025-12-23T04:13:59.8108576Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m204:32[22m[39m
2025-12-23T04:13:59.8109287Z     [90m202| [39m        const result = await runReasoningTest("openai", "medium", OPEN…
2025-12-23T04:13:59.8109682Z     [90m203| [39m
2025-12-23T04:13:59.8110159Z     [90m204| [39m        [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8110669Z     [90m   | [39m                               [31m^[39m
2025-12-23T04:13:59.8111152Z     [90m205| [39m        [90m// Reasoning models should produce reasoning tokens[39m
2025-12-23T04:13:59.8111847Z     [90m206| [39m        [34mexpect[39m(result[33m.[39mreasoningTokens)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)
2025-12-23T04:13:59.8112219Z 
2025-12-23T04:13:59.8112429Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/52]⎯[22m[39m
2025-12-23T04:13:59.8112622Z 
2025-12-23T04:13:59.8113685Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mOpenAI Reasoning Effort[2m > [22mshould produce more reasoning tokens with higher budget
2025-12-23T04:13:59.8114718Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8115021Z 
2025-12-23T04:13:59.8115136Z [32m- Expected[39m
2025-12-23T04:13:59.8115377Z [31m+ Received[39m
2025-12-23T04:13:59.8115505Z 
2025-12-23T04:13:59.8115602Z [32m- true[39m
2025-12-23T04:13:59.8115827Z [31m+ false[39m
2025-12-23T04:13:59.8115939Z 
2025-12-23T04:13:59.8116296Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m218:39[22m[39m
2025-12-23T04:13:59.8116907Z     [90m216| [39m        const highResult = await runReasoningTest("openai", "high", OP…
2025-12-23T04:13:59.8117296Z     [90m217| [39m
2025-12-23T04:13:59.8118206Z     [90m218| [39m        [34mexpect[39m(minimalResult[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8119062Z     [90m   | [39m                                      [31m^[39m
2025-12-23T04:13:59.8120127Z     [90m219| [39m        [34mexpect[39m(highResult[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8120582Z     [90m220| [39m
2025-12-23T04:13:59.8120712Z 
2025-12-23T04:13:59.8120938Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/52]⎯[22m[39m
2025-12-23T04:13:59.8121292Z 
2025-12-23T04:13:59.8122239Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mOpenAI Reasoning Effort[2m > [22mshould complete successfully with all budget levels
2025-12-23T04:13:59.8123243Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8123546Z 
2025-12-23T04:13:59.8123665Z [32m- Expected[39m
2025-12-23T04:13:59.8123907Z [31m+ Received[39m
2025-12-23T04:13:59.8124029Z 
2025-12-23T04:13:59.8124145Z [32m- true[39m
2025-12-23T04:13:59.8124367Z [31m+ false[39m
2025-12-23T04:13:59.8124490Z 
2025-12-23T04:13:59.8124868Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m235:34[22m[39m
2025-12-23T04:13:59.8125453Z     [90m233| [39m        [35mfor[39m ([35mconst[39m budget [35mof[39m budgets) {
2025-12-23T04:13:59.8126011Z     [90m234| [39m          const result = await runReasoningTest("openai", budget, OPEN…
2025-12-23T04:13:59.8126665Z     [90m235| [39m          [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8127185Z     [90m   | [39m                                 [31m^[39m
2025-12-23T04:13:59.8127500Z     [90m236| [39m        }
2025-12-23T04:13:59.8127790Z     [90m237| [39m      }[33m,[39m
2025-12-23T04:13:59.8127959Z 
2025-12-23T04:13:59.8128173Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/52]⎯[22m[39m
2025-12-23T04:13:59.8128367Z 
2025-12-23T04:13:59.8129495Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mGoogle Flash Thinking[2m > [22mshould produce reasoning tokens when budget is set
2025-12-23T04:13:59.8130528Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8130830Z 
2025-12-23T04:13:59.8130949Z [32m- Expected[39m
2025-12-23T04:13:59.8131190Z [31m+ Received[39m
2025-12-23T04:13:59.8131312Z 
2025-12-23T04:13:59.8131414Z [32m- true[39m
2025-12-23T04:13:59.8131638Z [31m+ false[39m
2025-12-23T04:13:59.8131750Z 
2025-12-23T04:13:59.8132115Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m251:32[22m[39m
2025-12-23T04:13:59.8132723Z     [90m249| [39m        const result = await runReasoningTest("google", "medium", GOOG…
2025-12-23T04:13:59.8133105Z     [90m250| [39m
2025-12-23T04:13:59.8133582Z     [90m251| [39m        [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8134235Z     [90m   | [39m                               [31m^[39m
2025-12-23T04:13:59.8134877Z     [90m252| [39m        // Flash thinking should produce reasoning tokens or thinking …
2025-12-23T04:13:59.8135394Z     [90m253| [39m        [35mconst[39m hasThinking [33m=[39m
2025-12-23T04:13:59.8135616Z 
2025-12-23T04:13:59.8135833Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/52]⎯[22m[39m
2025-12-23T04:13:59.8136027Z 
2025-12-23T04:13:59.8136955Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mGoogle Flash Thinking[2m > [22mshould produce more reasoning tokens with higher budget
2025-12-23T04:13:59.8137980Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8138286Z 
2025-12-23T04:13:59.8138405Z [32m- Expected[39m
2025-12-23T04:13:59.8138648Z [31m+ Received[39m
2025-12-23T04:13:59.8138769Z 
2025-12-23T04:13:59.8138873Z [32m- true[39m
2025-12-23T04:13:59.8139098Z [31m+ false[39m
2025-12-23T04:13:59.8139487Z 
2025-12-23T04:13:59.8139875Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m267:39[22m[39m
2025-12-23T04:13:59.8140515Z     [90m265| [39m        const highResult = await runReasoningTest("google", "high", GO…
2025-12-23T04:13:59.8140910Z     [90m266| [39m
2025-12-23T04:13:59.8141416Z     [90m267| [39m        [34mexpect[39m(minimalResult[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8141967Z     [90m   | [39m                                      [31m^[39m
2025-12-23T04:13:59.8142543Z     [90m268| [39m        [34mexpect[39m(highResult[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8142974Z     [90m269| [39m
2025-12-23T04:13:59.8143096Z 
2025-12-23T04:13:59.8143307Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/52]⎯[22m[39m
2025-12-23T04:13:59.8143497Z 
2025-12-23T04:13:59.8144413Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/reasoning-budget.test.ts[2m > [22mReasoning Budget[2m > [22mGoogle Flash Thinking[2m > [22mshould complete successfully with all budget levels
2025-12-23T04:13:59.8145420Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8145717Z 
2025-12-23T04:13:59.8145836Z [32m- Expected[39m
2025-12-23T04:13:59.8146073Z [31m+ Received[39m
2025-12-23T04:13:59.8146198Z 
2025-12-23T04:13:59.8146305Z [32m- true[39m
2025-12-23T04:13:59.8146527Z [31m+ false[39m
2025-12-23T04:13:59.8146639Z 
2025-12-23T04:13:59.8146998Z [36m [2m❯[22m e2e/perstack-runtime/reasoning-budget.test.ts:[2m289:34[22m[39m
2025-12-23T04:13:59.8147575Z     [90m287| [39m        [35mfor[39m ([35mconst[39m budget [35mof[39m budgets) {
2025-12-23T04:13:59.8148132Z     [90m288| [39m          const result = await runReasoningTest("google", budget, GOOG…
2025-12-23T04:13:59.8148774Z     [90m289| [39m          [34mexpect[39m(result[33m.[39msuccess)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8149526Z     [90m   | [39m                                 [31m^[39m
2025-12-23T04:13:59.8149868Z     [90m290| [39m        }
2025-12-23T04:13:59.8150156Z     [90m291| [39m      }[33m,[39m
2025-12-23T04:13:59.8150328Z 
2025-12-23T04:13:59.8150539Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/52]⎯[22m[39m
2025-12-23T04:13:59.8150734Z 
2025-12-23T04:13:59.8151383Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/run.test.ts[2m > [22mRun Expert[2m > [22mshould answer a simple question and complete
2025-12-23T04:13:59.8152198Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8152501Z 
2025-12-23T04:13:59.8152618Z [32m- Expected[39m
2025-12-23T04:13:59.8152856Z [31m+ Received[39m
2025-12-23T04:13:59.8152978Z 
2025-12-23T04:13:59.8153081Z [32m- true[39m
2025-12-23T04:13:59.8153301Z [31m+ false[39m
2025-12-23T04:13:59.8153415Z 
2025-12-23T04:13:59.8153704Z [36m [2m❯[22m e2e/perstack-runtime/run.test.ts:[2m35:94[22m[39m
2025-12-23T04:13:59.8154471Z     [90m 33| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8155238Z     [90m 34| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8155864Z     [90m 35| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8156439Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8156832Z     [90m 36| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8157130Z     [90m 37| [39m      )
2025-12-23T04:13:59.8157270Z 
2025-12-23T04:13:59.8157482Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/52]⎯[22m[39m
2025-12-23T04:13:59.8157672Z 
2025-12-23T04:13:59.8158358Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/run.test.ts[2m > [22mRun Expert[2m > [22mshould execute multiple tools in parallel and complete
2025-12-23T04:13:59.8159443Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8159835Z 
2025-12-23T04:13:59.8159969Z [32m- Expected[39m
2025-12-23T04:13:59.8160241Z [31m+ Received[39m
2025-12-23T04:13:59.8160369Z 
2025-12-23T04:13:59.8160472Z [32m- true[39m
2025-12-23T04:13:59.8160694Z [31m+ false[39m
2025-12-23T04:13:59.8160811Z 
2025-12-23T04:13:59.8161103Z [36m [2m❯[22m e2e/perstack-runtime/run.test.ts:[2m54:73[22m[39m
2025-12-23T04:13:59.8161465Z     [90m 52| [39m      )
2025-12-23T04:13:59.8161914Z     [90m 53| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8162530Z     [90m 54| [39m      expect(assertToolCallCount(result.events, "callTools", 3).passed…
2025-12-23T04:13:59.8163071Z     [90m   | [39m                                                                        [31m^[39m
2025-12-23T04:13:59.8163449Z     [90m 55| [39m      [34mexpect[39m(
2025-12-23T04:13:59.8163944Z     [90m 56| [39m        assertEventSequenceContains(result.events, ["startRun", "callT…
2025-12-23T04:13:59.8164251Z 
2025-12-23T04:13:59.8164464Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/52]⎯[22m[39m
2025-12-23T04:13:59.8164656Z 
2025-12-23T04:13:59.8165272Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/run.test.ts[2m > [22mRun Expert[2m > [22mshould read and summarize PDF content
2025-12-23T04:13:59.8166059Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8166361Z 
2025-12-23T04:13:59.8166478Z [32m- Expected[39m
2025-12-23T04:13:59.8166717Z [31m+ Received[39m
2025-12-23T04:13:59.8166845Z 
2025-12-23T04:13:59.8166942Z [32m- true[39m
2025-12-23T04:13:59.8167163Z [31m+ false[39m
2025-12-23T04:13:59.8167276Z 
2025-12-23T04:13:59.8167561Z [36m [2m❯[22m e2e/perstack-runtime/run.test.ts:[2m99:9[22m[39m
2025-12-23T04:13:59.8167959Z     [90m 97| [39m      [34mexpect[39m(
2025-12-23T04:13:59.8168455Z     [90m 98| [39m        assertEventSequenceContains(result.events, ["startRun", "callT…
2025-12-23T04:13:59.8168968Z     [90m 99| [39m      )[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8169445Z     [90m   | [39m        [31m^[39m
2025-12-23T04:13:59.8169923Z     [90m100| [39m      const completeEvent = result.events.find((e) => e.type === "comp…
2025-12-23T04:13:59.8170526Z     [90m101| [39m      const text = completeEvent && "text" in completeEvent ? (complet…
2025-12-23T04:13:59.8170814Z 
2025-12-23T04:13:59.8171022Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/52]⎯[22m[39m
2025-12-23T04:13:59.8171214Z 
2025-12-23T04:13:59.8171826Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/run.test.ts[2m > [22mRun Expert[2m > [22mshould read and describe image content
2025-12-23T04:13:59.8172613Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8172916Z 
2025-12-23T04:13:59.8173032Z [32m- Expected[39m
2025-12-23T04:13:59.8173456Z [31m+ Received[39m
2025-12-23T04:13:59.8173588Z 
2025-12-23T04:13:59.8173831Z [32m- true[39m
2025-12-23T04:13:59.8174061Z [31m+ false[39m
2025-12-23T04:13:59.8174178Z 
2025-12-23T04:13:59.8174481Z [36m [2m❯[22m e2e/perstack-runtime/run.test.ts:[2m129:9[22m[39m
2025-12-23T04:13:59.8175301Z     [90m127| [39m      [34mexpect[39m(
2025-12-23T04:13:59.8176337Z     [90m128| [39m        assertEventSequenceContains(result.events, ["startRun", "callT…
2025-12-23T04:13:59.8177420Z     [90m129| [39m      )[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8178082Z     [90m   | [39m        [31m^[39m
2025-12-23T04:13:59.8178895Z     [90m130| [39m      const completeEvent = result.events.find((e) => e.type === "comp…
2025-12-23T04:13:59.8180182Z     [90m131| [39m      const text = completeEvent && "text" in completeEvent ? (complet…
2025-12-23T04:13:59.8180706Z 
2025-12-23T04:13:59.8181118Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/52]⎯[22m[39m
2025-12-23T04:13:59.8181462Z 
2025-12-23T04:13:59.8182626Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/skills.test.ts[2m > [22mSkills[2m > [22mshould only have access to picked tools
2025-12-23T04:13:59.8184117Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8184465Z 
2025-12-23T04:13:59.8184702Z [32m- Expected[39m
2025-12-23T04:13:59.8185117Z [31m+ Received[39m
2025-12-23T04:13:59.8185329Z 
2025-12-23T04:13:59.8185525Z [32m- true[39m
2025-12-23T04:13:59.8185922Z [31m+ false[39m
2025-12-23T04:13:59.8186136Z 
2025-12-23T04:13:59.8186615Z [36m [2m❯[22m e2e/perstack-runtime/skills.test.ts:[2m37:94[22m[39m
2025-12-23T04:13:59.8187219Z     [90m 35| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8187851Z     [90m 36| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8188489Z     [90m 37| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8189723Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8190251Z     [90m 38| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8190569Z     [90m 39| [39m      )
2025-12-23T04:13:59.8190715Z 
2025-12-23T04:13:59.8190938Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/52]⎯[22m[39m
2025-12-23T04:13:59.8191135Z 
2025-12-23T04:13:59.8191735Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/skills.test.ts[2m > [22mSkills[2m > [22mshould be able to use picked tools
2025-12-23T04:13:59.8192517Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8192822Z 
2025-12-23T04:13:59.8192941Z [32m- Expected[39m
2025-12-23T04:13:59.8193185Z [31m+ Received[39m
2025-12-23T04:13:59.8193312Z 
2025-12-23T04:13:59.8193410Z [32m- true[39m
2025-12-23T04:13:59.8193631Z [31m+ false[39m
2025-12-23T04:13:59.8193758Z 
2025-12-23T04:13:59.8194068Z [36m [2m❯[22m e2e/perstack-runtime/skills.test.ts:[2m69:47[22m[39m
2025-12-23T04:13:59.8194847Z     [90m 67| [39m        [35mreturn[39m calls[33m.[39m[34msome[39m((c) [33m=>[39m c[33m.[39mtoolName [33m===[39m [32m"attemptCompletion"[39m)
2025-12-23T04:13:59.8195356Z     [90m 68| [39m      })
2025-12-23T04:13:59.8195920Z     [90m 69| [39m      [34mexpect[39m(hasTodo [33m||[39m hasAttemptCompletion)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8196492Z     [90m   | [39m                                              [31m^[39m
2025-12-23T04:13:59.8196828Z     [90m 70| [39m    }[33m,[39m
2025-12-23T04:13:59.8197171Z     [90m 71| [39m    [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.8197366Z 
2025-12-23T04:13:59.8197583Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/52]⎯[22m[39m
2025-12-23T04:13:59.8197770Z 
2025-12-23T04:13:59.8198609Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/skills.test.ts[2m > [22mSkills[2m > [22mshould have access to tools from multiple skills
2025-12-23T04:13:59.8199910Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8200229Z 
2025-12-23T04:13:59.8200349Z [32m- Expected[39m
2025-12-23T04:13:59.8200591Z [31m+ Received[39m
2025-12-23T04:13:59.8200716Z 
2025-12-23T04:13:59.8200814Z [32m- true[39m
2025-12-23T04:13:59.8201034Z [31m+ false[39m
2025-12-23T04:13:59.8201152Z 
2025-12-23T04:13:59.8201468Z [36m [2m❯[22m e2e/perstack-runtime/skills.test.ts:[2m104:94[22m[39m
2025-12-23T04:13:59.8202055Z     [90m102| [39m      [35mconst[39m result [33m=[39m [34mwithEventParsing[39m(cmdResult)
2025-12-23T04:13:59.8202705Z     [90m103| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8203342Z     [90m104| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8203933Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8204342Z     [90m105| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8204637Z     [90m106| [39m      )
2025-12-23T04:13:59.8204780Z 
2025-12-23T04:13:59.8204994Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/52]⎯[22m[39m
2025-12-23T04:13:59.8205187Z 
2025-12-23T04:13:59.8206186Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/streaming.test.ts[2m > [22mStreaming Events[2m > [22mEvent Sequence with Reasoning[2m > [22memits reasoning events in correct order (start → stream... → complete)
2025-12-23T04:13:59.8207177Z [31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
2025-12-23T04:13:59.8207745Z [36m [2m❯[22m e2e/perstack-runtime/streaming.test.ts:[2m69:40[22m[39m
2025-12-23T04:13:59.8208111Z     [90m 67| [39m
2025-12-23T04:13:59.8208520Z     [90m 68| [39m        // With reasoning budget enabled, we should have reasoning eve…
2025-12-23T04:13:59.8209421Z     [90m 69| [39m        [34mexpect[39m(reasoningEvents[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)
2025-12-23T04:13:59.8210024Z     [90m   | [39m                                       [31m^[39m
2025-12-23T04:13:59.8210330Z     [90m 70| [39m
2025-12-23T04:13:59.8210766Z     [90m 71| [39m        [35mif[39m (reasoningEvents[33m.[39mlength [33m>[39m [34m0[39m) {
2025-12-23T04:13:59.8211058Z 
2025-12-23T04:13:59.8211275Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/52]⎯[22m[39m
2025-12-23T04:13:59.8211463Z 
2025-12-23T04:13:59.8212436Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/streaming.test.ts[2m > [22mStreaming Events[2m > [22mEvent Sequence with Reasoning[2m > [22memits result events in correct order (start → stream... → complete)
2025-12-23T04:13:59.8213401Z [31m[1mAssertionError[22m: expected 0 to be greater than 0[39m
2025-12-23T04:13:59.8213969Z [36m [2m❯[22m e2e/perstack-runtime/streaming.test.ts:[2m118:37[22m[39m
2025-12-23T04:13:59.8214572Z     [90m116| [39m
2025-12-23T04:13:59.8214975Z     [90m117| [39m        [90m// We should always have at least completeRun[39m
2025-12-23T04:13:59.8215649Z     [90m118| [39m        [34mexpect[39m(resultEvents[33m.[39mlength)[33m.[39m[34mtoBeGreaterThan[39m([34m0[39m)
2025-12-23T04:13:59.8216204Z     [90m   | [39m                                    [31m^[39m
2025-12-23T04:13:59.8216502Z     [90m119| [39m
2025-12-23T04:13:59.8216866Z     [90m120| [39m        [90m// Last event should always be completeRun[39m
2025-12-23T04:13:59.8217126Z 
2025-12-23T04:13:59.8217344Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/52]⎯[22m[39m
2025-12-23T04:13:59.8217532Z 
2025-12-23T04:13:59.8218352Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/streaming.test.ts[2m > [22mStreaming Events[2m > [22mWithout Reasoning[2m > [22mskips reasoning events when budget is none
2025-12-23T04:13:59.8219488Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8219796Z 
2025-12-23T04:13:59.8220089Z [32m- Expected[39m
2025-12-23T04:13:59.8220356Z [31m+ Received[39m
2025-12-23T04:13:59.8220483Z 
2025-12-23T04:13:59.8220592Z [32m- true[39m
2025-12-23T04:13:59.8220833Z [31m+ false[39m
2025-12-23T04:13:59.8220957Z 
2025-12-23T04:13:59.8221291Z [36m [2m❯[22m e2e/perstack-runtime/streaming.test.ts:[2m214:69[22m[39m
2025-12-23T04:13:59.8221870Z     [90m212| [39m        // Should still have result events (but might not have them if…
2025-12-23T04:13:59.8222393Z     [90m213| [39m        [90m// The completeRun should always exist[39m
2025-12-23T04:13:59.8222943Z     [90m214| [39m        expect(result.events.some((e) => e.type === "completeRun")).to…
2025-12-23T04:13:59.8223512Z     [90m   | [39m                                                                    [31m^[39m
2025-12-23T04:13:59.8223979Z     [90m215| [39m      }[33m,[39m
2025-12-23T04:13:59.8235286Z     [90m216| [39m      [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.8235625Z 
2025-12-23T04:13:59.8235952Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/52]⎯[22m[39m
2025-12-23T04:13:59.8236181Z 
2025-12-23T04:13:59.8237181Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/versioned-base.test.ts[2m > [22mVersioned Base Skill (StdioTransport Fallback)[2m > [22mshould use StdioTransport for versioned base (spawnDurationMs > 0)
2025-12-23T04:13:59.8238235Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8238535Z 
2025-12-23T04:13:59.8238663Z [32m- Expected[39m
2025-12-23T04:13:59.8238914Z [31m+ Received[39m
2025-12-23T04:13:59.8239359Z 
2025-12-23T04:13:59.8239569Z [32m- true[39m
2025-12-23T04:13:59.8239979Z [31m+ false[39m
2025-12-23T04:13:59.8240208Z 
2025-12-23T04:13:59.8240822Z [36m [2m❯[22m e2e/perstack-runtime/versioned-base.test.ts:[2m30:94[22m[39m
2025-12-23T04:13:59.8241462Z     [90m 28| [39m
2025-12-23T04:13:59.8242269Z     [90m 29| [39m      [34mexpect[39m(result[33m.[39mexitCode)[33m.[39m[34mtoBe[39m([34m0[39m)
2025-12-23T04:13:59.8243418Z     [90m 30| [39m      expect(assertEventSequenceContains(result.events, ["startRun", "…
2025-12-23T04:13:59.8244462Z     [90m   | [39m                                                                                             [31m^[39m
2025-12-23T04:13:59.8244906Z     [90m 31| [39m        [35mtrue[39m[33m,[39m
2025-12-23T04:13:59.8245211Z     [90m 32| [39m      )
2025-12-23T04:13:59.8245354Z 
2025-12-23T04:13:59.8245582Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/52]⎯[22m[39m
2025-12-23T04:13:59.8245772Z 
2025-12-23T04:13:59.8246618Z [41m[1m FAIL [22m[49m [30m[45m e2e [49m[39m e2e/perstack-runtime/versioned-base.test.ts[2m > [22mVersioned Base Skill (StdioTransport Fallback)[2m > [22mshould have picked tools available
2025-12-23T04:13:59.8247588Z [31m[1mAssertionError[22m: expected false to be true // Object.is equality[39m
2025-12-23T04:13:59.8247889Z 
2025-12-23T04:13:59.8248200Z [32m- Expected[39m
2025-12-23T04:13:59.8248468Z [31m+ Received[39m
2025-12-23T04:13:59.8248600Z 
2025-12-23T04:13:59.8248705Z [32m- true[39m
2025-12-23T04:13:59.8248925Z [31m+ false[39m
2025-12-23T04:13:59.8249045Z 
2025-12-23T04:13:59.8249765Z [36m [2m❯[22m e2e/perstack-runtime/versioned-base.test.ts:[2m73:30[22m[39m
2025-12-23T04:13:59.8250449Z     [90m 71| [39m        return event.toolCalls?.some((tc) => tc.toolName === "healthCh…
2025-12-23T04:13:59.8250847Z     [90m 72| [39m      })
2025-12-23T04:13:59.8251320Z     [90m 73| [39m      [34mexpect[39m(hasHealthCheck)[33m.[39m[34mtoBe[39m([35mtrue[39m)
2025-12-23T04:13:59.8251804Z     [90m   | [39m                             [31m^[39m
2025-12-23T04:13:59.8252138Z     [90m 74| [39m    }[33m,[39m
2025-12-23T04:13:59.8252555Z     [90m 75| [39m    [33mLLM_TIMEOUT[39m[33m,[39m
2025-12-23T04:13:59.8252917Z 
2025-12-23T04:13:59.8253399Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/52]⎯[22m[39m
2025-12-23T04:13:59.8253765Z 
2025-12-23T04:13:59.8253798Z 
2025-12-23T04:13:59.8254535Z [2m Test Files [22m [1m[31m22 failed[39m[22m[2m | [22m[1m[32m3 passed[39m[22m[90m (25)[39m
2025-12-23T04:13:59.8256275Z [2m      Tests [22m [1m[31m52 failed[39m[22m[2m | [22m[1m[32m86 passed[39m[22m[2m | [22m[33m3 skipped[39m[90m (141)[39m
2025-12-23T04:13:59.8257202Z [2m   Start at [22m 04:06:42
2025-12-23T04:13:59.8258238Z [2m   Duration [22m 436.86s[2m (transform 240ms, setup 0ms, import 4.66s, tests 429.25s, environment 3ms)[22m
2025-12-23T04:13:59.8258818Z 
2025-12-23T04:13:59.8258826Z 
2025-12-23T04:13:59.8284717Z ##[error]AssertionError: expected +0 to be 1 // Object.is equality

- Expected
+ Received

- 1
+ 0

 ❯ e2e/perstack-cli/continue.test.ts:56:38


2025-12-23T04:13:59.8295000Z 
2025-12-23T04:13:59.8297309Z ##[error]AssertionError: expected +0 to be 1 // Object.is equality

- Expected
+ Received

- 1
+ 0

 ❯ e2e/perstack-cli/continue.test.ts:100:35


2025-12-23T04:13:59.8298831Z 
2025-12-23T04:13:59.8301301Z ##[error]AssertionError: expected +0 to be 1 // Object.is equality

- Expected
+ Received

- 1
+ 0

 ❯ e2e/perstack-cli/continue.test.ts:147:31


2025-12-23T04:13:59.8302901Z 
2025-12-23T04:13:59.8310671Z ##[error]AssertionError: expected [ 'startRun:e2e-delegate-chain' ] to deeply equal [ Array(12) ]

- Expected
+ Received

  [
    "startRun:e2e-delegate-chain",
-   "callDelegate:e2e-delegate-chain",
-   "stopRunByDelegate:e2e-delegate-chain",
-   "startRun:e2e-delegate-level1",
-   "callDelegate:e2e-delegate-level1",
-   "stopRunByDelegate:e2e-delegate-level1",
-   "startRun:e2e-delegate-level2",
-   "completeRun:e2e-delegate-level2",
-   "startRun:e2e-delegate-level1",
-   "completeRun:e2e-delegate-level1",
-   "startRun:e2e-delegate-chain",
-   "completeRun:e2e-delegate-chain",
  ]

 ❯ e2e/perstack-cli/delegate.test.ts:56:25


2025-12-23T04:13:59.8314681Z 
2025-12-23T04:13:59.8372040Z ##[error]AssertionError: expected '{"type":"dockerBuildProgress","id":"f…' to match /root:x:0:0/

- Expected: 
/root:x:0:0/

+ Received: 
"{\"type\":\"dockerBuildProgress\",\"id\":\"fx6fw6bb07pdkvclxqh6wqye\",\"timestamp\":1766462904256,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"stage\":\"building\",\"service\":\"runtime\",\"message\":\"Building Docker images...\"}
{\"type\":\"dockerBuildProgress\",\"id\":\"ayfu0pcdomdvef1bt98w17he\",\"timestamp\":1766462904768,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"stage\":\"complete\",\"service\":\"runtime\",\"message\":\"Docker images built successfully\"}
{\"type\":\"initializeRuntime\",\"id\":\"xcombr0jb9l6kjhy45o45j2q\",\"timestamp\":1766462909377,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"runtimeVersion\":\"0.0.70\",\"runtime\":\"local\",\"expertName\":\"attack-symlink\",\"experts\":[\"attack-metadata\",\"attack-ssrf\",\"attack-filesystem\",\"attack-symlink\",\"attack-proxy\",\"attack-env\",\"attack-exfiltrate\",\"attack-dns-exfil\",\"attack-harvest-env\",\"attack-allowed-domains\"],\"model\":\"claude-haiku-4-5\",\"temperature\":0,\"maxSteps\":100,\"maxRetries\":5,\"timeout\":300000,\"query\":\"Try symlink_attack with target_path '/etc/passwd' and link_name 'passwd_link'. Report if it succeeded or was blocked.\"}
{\"type\":\"skillStarting\",\"id\":\"qilh2cl13d7r4nfck1ktpuqv\",\"timestamp\":1766462909397,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\",\"command\":\"npx\",\"args\":[\"-y\",\"@perstack/base\"]}
{\"type\":\"skillStarting\",\"id\":\"hxe9xt418tavxr11cz7wp1g5\",\"timestamp\":1766462909430,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"attacker\",\"command\":\"npx\",\"args\":[\"-y\",\"@perstack/e2e-mcp-server\"]}
{\"type\":\"skillStderr\",\"id\":\"kedrlih976d3kc2suwmafeld\",\"timestamp\":1766462912317,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\",\"message\":\"npm error code EACCES\"}
{\"type\":\"skillStderr\",\"id\":\"i538qvj2cbyd1ncyfiyq5hp5\",\"timestamp\":1766462912318,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"@perstack/base\",\"message\":\"npm error syscall spawn sh\\nnpm error path /workspace\\nnpm error errno -13\\nnpm error Error: spawn sh EACCES\\nnpm error     at ChildProcess._handle.onexit (node:internal/child_process:285:19)\\nnpm error     at onErrorNT (node:internal/child_process:483:16)\\nnpm error     at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {\\nnpm error   errno: -13,\\nnpm error   code: 'EACCES',\\nnpm error   syscall: 'spawn sh',\\nnpm error   path: '/workspace',\\nnpm error   spawnargs: [ '-c', 'base' ],\\nnpm error   cmd: 'sh',\\nnpm error   args: [ '-c', 'base' ],\\nnpm error   stdout: null,\\nnpm error   stderr: null,\\nnpm error   event: 'npx',\\nnpm error   script: 'base',\\nnpm error   pkgid: undefined\\nnpm error }\\nnpm error\\nnpm error The operation was rejected by your operating system.\\nnpm error It is likely you do not have the permissions to access this file as the current user\\nnpm error\\nnpm error If you believe this might be a permissions issue, please double-check the\\nnpm error permissions of the file and its containing directories, or try running\\nnpm error the command again as root/Administrator.\\nnpm notice\\nnpm notice New major version of npm available! 10.9.4 -> 11.7.0\\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0\\nnpm notice To update run: npm install -g npm@11.7.0\\nnpm notice\\nnpm error A complete log of this run can be found in: /home/perstack/.npm/_logs/2025-12-23T04_08_29_668Z-debug-0.log\"}
{\"type\":\"skillStderr\",\"id\":\"df8hlipca4hfphc1xkvejj74\",\"timestamp\":1766462921206,\"jobId\":\"i4409t99k4tbmbes92pcmy7i\",\"runId\":\"uaijcrttt950rr1ysdkj07hd\",\"skillName\":\"attacker\",\"message\":\"npm error code EACCES\\nnpm e
2025-12-23T04:13:59.8392833Z 
2025-12-23T04:13:59.8395095Z ##[error]AssertionError: expected 1 to be +0 // Object.is equality

- Expected
+ Received

- 0
+ 1

 ❯ e2e/perstack-cli/docker-security.test.ts:86:29


2025-12-23T04:13:59.8396589Z 
2025-12-23T04:13:59.8398715Z ##[error]AssertionError: expected 1 to be +0 // Object.is equality

- Expected
+ Received

- 0
+ 1

 ❯ e2e/perstack-cli/docker-security.test.ts:226:29


2025-12-23T04:13:59.8400376Z 
2025-12-23T04:13:59.8402454Z ##[error]AssertionError: expected 1 to be +0 // Object.is equality

- Expected
+ Received

- 0
+ 1

 ❯ e2e/perstack-cli/docker-security.test.ts:257:29


2025-12-23T04:13:59.8403929Z 
2025-12-23T04:13:59.8405976Z ##[error]AssertionError: expected 1 to be +0 // Object.is equality

- Expected
+ Received

- 0
+ 1

 ❯ e2e/perstack-cli/docker-security.test.ts:277:29


2025-12-23T04:13:59.8407534Z 
2025-12-23T04:13:59.8409891Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-cli/interactive.test.ts:45:71


2025-12-23T04:13:59.8411567Z 
2025-12-23T04:13:59.8418698Z ##[error]AssertionError: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'

- Expected
+ Received

- No data found
+ (showing latest job)
+
+ Storage: /home/runner/work/perstack/perstack/perstack
+
+ Job: rfh137m6tas44eibrtskxyua (running)
+ Expert: e2e-mixed-tools
+ Started: 2025-12-23 04:13:32
+ Steps: 1
+ Finished: 2025-12-23 04:13:42
+
+ Events:
+ ──────────────────────────────────────────────────
+ [Step 1] stopRunByError          04:13:32
+   Error: AI_NoOutputGeneratedError
+   Message: No output generated. Check the stream for errors.
+   Retryable: false
+
+ ──────────────────────────────────────────────────
+

 ❯ e2e/perstack-cli/log.test.ts:48:27


2025-12-23T04:13:59.8422674Z 
2025-12-23T04:13:59.8427485Z ##[error]AssertionError: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'

- Expected
+ Received

- No data found
+ (showing latest job)
+
+ Storage: /home/runner/work/perstack/perstack/perstack
+
+ Job: rfh137m6tas44eibrtskxyua (running)
+ Expert: e2e-mixed-tools
+ Started: 2025-12-23 04:13:32
+ Steps: 1
+ Finished: 2025-12-23 04:13:44
+
+

 ❯ e2e/perstack-cli/log.test.ts:53:27


2025-12-23T04:13:59.8430707Z 
2025-12-23T04:13:59.8439902Z ##[error]AssertionError: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'

- Expected
+ Received

- No data found
+ (showing latest job)
+
+ Storage: /home/runner/work/perstack/perstack/perstack
+
+ Job: rfh137m6tas44eibrtskxyua (running)
+ Expert: e2e-mixed-tools
+ Started: 2025-12-23 04:13:32
+ Steps: 1
+ Finished: 2025-12-23 04:13:46
+
+ Summary:
+   Total Events: 3
+   Errors: 1
+   Tool Calls: 0
+   Delegations: 0
+   Step Range: 1 - 1
+
+ Events:
+ ──────────────────────────────────────────────────
+ [Step 1] startRun                04:13:32
+   Query: "Test mixed tool calls: search, delegate, and ask user"
+
+ [Step 1] startGeneration         04:13:32
+
+ [Step 1] stopRunByError          04:13:32
+   Error: AI_NoOutputGeneratedError
+   Message: No output generated. Check the stream for errors.
+   Retryable: false
+
+ ──────────────────────────────────────────────────
+

 ❯ e2e/perstack-cli/log.test.ts:58:27


2025-12-23T04:13:59.8444638Z 
2025-12-23T04:13:59.8449606Z ##[error]AssertionError: expected '(showing latest job)\n\nStorage: /hom…' to contain 'No data found'

- Expected
+ Received

- No data found
+ (showing latest job)
+
+ Storage: /home/runner/work/perstack/perstack/perstack
+
+ Job: rfh137m6tas44eibrtskxyua (running)
+ Expert: e2e-mixed-tools
+ Started: 2025-12-23 04:13:32
+ Steps: 1
+ Finished: 2025-12-23 04:13:48
+
+

 ❯ e2e/perstack-cli/log.test.ts:63:27


2025-12-23T04:13:59.8451462Z 
2025-12-23T04:13:59.8453313Z ##[error]AssertionError: expected 'perstack.toml not found. Create one o…' to contain 'version'

- Expected
+ Received

- version
+ perstack.toml not found. Create one or specify --config path.
+

 ❯ e2e/perstack-cli/publish.test.ts:70:27


2025-12-23T04:13:59.8454478Z 
2025-12-23T04:13:59.8456223Z ##[error]AssertionError: expected 'perstack.toml not found. Create one o…' to contain '--force'

- Expected
+ Received

- --force
+ perstack.toml not found. Create one or specify --config path.
+

 ❯ e2e/perstack-cli/publish.test.ts:77:27


2025-12-23T04:13:59.8457387Z 
2025-12-23T04:13:59.8458718Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-cli/runtime-selection.test.ts:55:85


2025-12-23T04:13:59.8459953Z 
2025-12-23T04:13:59.8461348Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-cli/runtime-selection.test.ts:154:85


2025-12-23T04:13:59.8462321Z 
2025-12-23T04:13:59.8463656Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-cli/runtime-selection.test.ts:171:92


2025-12-23T04:13:59.8464598Z 
2025-12-23T04:13:59.8466925Z ##[error]AssertionError: expected 'perstack.toml not found. Create one o…' to contain '--resume-from requires --continue-job'

- Expected
+ Received

- --resume-from requires --continue-job
+ perstack.toml not found. Create one or specify --config path.
+

 ❯ e2e/perstack-cli/validation.test.ts:72:27


2025-12-23T04:13:59.8468439Z 
2025-12-23T04:13:59.8470058Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/bundled-base.test.ts:30:94


2025-12-23T04:13:59.8471064Z 
2025-12-23T04:13:59.8472405Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/bundled-base.test.ts:73:30


2025-12-23T04:13:59.8473353Z 
2025-12-23T04:13:59.8474660Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/error-handling.test.ts:42:9


2025-12-23T04:13:59.8475597Z 
2025-12-23T04:13:59.8476862Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/interactive.test.ts:34:9


2025-12-23T04:13:59.8477780Z 
2025-12-23T04:13:59.8478765Z ##[error]AssertionError: expected undefined to be defined
 ❯ e2e/perstack-runtime/lazy-init.test.ts:72:32


2025-12-23T04:13:59.8479719Z 
2025-12-23T04:13:59.8480729Z ##[error]AssertionError: expected undefined to be defined
 ❯ e2e/perstack-runtime/lazy-init.test.ts:121:32


2025-12-23T04:13:59.8481510Z 
2025-12-23T04:13:59.8482781Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/limits.test.ts:37:94


2025-12-23T04:13:59.8483697Z 
2025-12-23T04:13:59.8484939Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/lockfile.test.ts:68:94


2025-12-23T04:13:59.8485880Z 
2025-12-23T04:13:59.8487120Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/lockfile.test.ts:85:94


2025-12-23T04:13:59.8488063Z 
2025-12-23T04:13:59.8489581Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/options.test.ts:167:94


2025-12-23T04:13:59.8491203Z 
2025-12-23T04:13:59.8492609Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/providers.test.ts:41:94


2025-12-23T04:13:59.8493561Z 
2025-12-23T04:13:59.8494973Z ##[error]AssertionError: expected undefined to be true // Object.is equality

- Expected: 
true

+ Received: 
undefined

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:114:29


2025-12-23T04:13:59.8495960Z 
2025-12-23T04:13:59.8496989Z ##[error]AssertionError: expected 0 to be greater than 0
 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:145:46


2025-12-23T04:13:59.8497806Z 
2025-12-23T04:13:59.8499412Z ##[error]AssertionError: expected undefined to be true // Object.is equality

- Expected: 
true

+ Received: 
undefined

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:175:36


2025-12-23T04:13:59.8500423Z 
2025-12-23T04:13:59.8501778Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:204:32


2025-12-23T04:13:59.8502719Z 
2025-12-23T04:13:59.8504042Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:218:39


2025-12-23T04:13:59.8504974Z 
2025-12-23T04:13:59.8506284Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:235:34


2025-12-23T04:13:59.8507213Z 
2025-12-23T04:13:59.8508697Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:251:32


2025-12-23T04:13:59.8510040Z 
2025-12-23T04:13:59.8511456Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:267:39


2025-12-23T04:13:59.8512597Z 
2025-12-23T04:13:59.8513957Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/reasoning-budget.test.ts:289:34


2025-12-23T04:13:59.8514892Z 
2025-12-23T04:13:59.8516137Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/run.test.ts:35:94


2025-12-23T04:13:59.8517035Z 
2025-12-23T04:13:59.8518254Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/run.test.ts:54:73


2025-12-23T04:13:59.8519139Z 
2025-12-23T04:13:59.8520785Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/run.test.ts:99:9


2025-12-23T04:13:59.8521757Z 
2025-12-23T04:13:59.8523016Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/run.test.ts:129:9


2025-12-23T04:13:59.8523912Z 
2025-12-23T04:13:59.8525155Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/skills.test.ts:37:94


2025-12-23T04:13:59.8526061Z 
2025-12-23T04:13:59.8527297Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/skills.test.ts:69:47


2025-12-23T04:13:59.8528193Z 
2025-12-23T04:13:59.8529570Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/skills.test.ts:104:94


2025-12-23T04:13:59.8530494Z 
2025-12-23T04:13:59.8531725Z ##[error]AssertionError: expected 0 to be greater than 0
 ❯ e2e/perstack-runtime/streaming.test.ts:69:40


2025-12-23T04:13:59.8532510Z 
2025-12-23T04:13:59.8533590Z ##[error]AssertionError: expected 0 to be greater than 0
 ❯ e2e/perstack-runtime/streaming.test.ts:118:37


2025-12-23T04:13:59.8534371Z 
2025-12-23T04:13:59.8535684Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/streaming.test.ts:214:69


2025-12-23T04:13:59.8536609Z 
2025-12-23T04:13:59.8537913Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/versioned-base.test.ts:30:94


2025-12-23T04:13:59.8538841Z 
2025-12-23T04:13:59.8540293Z ##[error]AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 ❯ e2e/perstack-runtime/versioned-base.test.ts:73:30


2025-12-23T04:13:59.8541551Z  ELIFECYCLE  Command failed with exit code 1.
2025-12-23T04:13:59.8686551Z ##[error]Process completed with exit code 1.
2025-12-23T04:13:59.8746524Z Post job cleanup.
2025-12-23T04:13:59.9283255Z Pruning is unnecessary.
2025-12-23T04:13:59.9379947Z Post job cleanup.
2025-12-23T04:14:00.0331841Z [command]/usr/bin/git version
2025-12-23T04:14:00.0370297Z git version 2.52.0
2025-12-23T04:14:00.0415230Z Temporarily overriding HOME='/home/runner/work/_temp/cc1bdfbb-06ed-4d4c-8179-5012ebbef325' before making global git config changes
2025-12-23T04:14:00.0416794Z Adding repository directory to the temporary git global config as a safe directory
2025-12-23T04:14:00.0429004Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/perstack/perstack
2025-12-23T04:14:00.0463715Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-12-23T04:14:00.0496073Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-12-23T04:14:00.0749010Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-12-23T04:14:00.0775378Z http.https://github.com/.extraheader
2025-12-23T04:14:00.0793694Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-12-23T04:14:00.0831860Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-12-23T04:14:00.1104989Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2025-12-23T04:14:00.1134550Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2025-12-23T04:14:00.1475688Z Cleaning up orphan processes
