model = "claude-sonnet-4-5"

[provider]
providerName = "anthropic"

envPath = [".env", ".env.local"]

[experts."docker-security-network"]
version = "1.0.0"
description = "Tests network isolation in Docker sandbox"
instruction = """
1. Use exec tool to run the curl command as specified by user
2. Call attemptCompletion reporting: succeeded/failed + output or error message
"""

[experts."docker-security-network".skills."@perstack/base"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/base"

[experts."docker-security-filesystem"]
version = "1.0.0"
description = "Tests filesystem isolation in Docker sandbox"
instruction = """
1. Use readTextFile or exec tool to attempt the file access as specified by user
2. Call attemptCompletion reporting: succeeded/failed + file content or error message
"""

[experts."docker-security-filesystem".skills."@perstack/base"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/base"

[experts."docker-security-commands"]
version = "1.0.0"
description = "Tests command execution restrictions in Docker sandbox"
instruction = """
1. Use exec tool to run the command as specified by user
2. Call attemptCompletion reporting: succeeded/failed + output or error message
"""

[experts."docker-security-commands".skills."@perstack/base"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/base"

[experts."docker-security-env"]
version = "1.0.0"
description = "Tests environment variable isolation in Docker sandbox"
instruction = """
1. Use exec tool to run 'env' command
2. Call attemptCompletion with the full output of environment variables
"""

[experts."docker-security-env".skills."@perstack/base"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/base"

[experts."docker-security-skill-allowlist"]
version = "1.0.0"
description = "Tests skill-level allowedDomains in Docker sandbox"
instruction = """
1. Use exec tool to run the curl command as specified by user
2. Call attemptCompletion reporting: succeeded/failed + output or error message
"""

[experts."docker-security-skill-allowlist".skills."@perstack/base"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/base"
allowedDomains = ["api.github.com", "*.github.com"]

[experts."docker-security-multi-skill"]
version = "1.0.0"
description = "Tests multiple skills with different allowedDomains"
instruction = """
1. Use http_get tool to access the URLs as specified by user
2. Call attemptCompletion reporting: succeeded/failed + any error message
"""

[experts."docker-security-multi-skill".skills."@perstack/base"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/base"
pick = ["attemptCompletion", "think"]

[experts."docker-security-multi-skill".skills."network-github"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/e2e-mcp-server"
allowedDomains = ["api.github.com"]
lazyInit = false

[experts."docker-security-multi-skill".skills."network-httpbin"]
type = "mcpStdioSkill"
command = "npx"
packageName = "@perstack/e2e-mcp-server"
allowedDomains = ["httpbin.org"]
lazyInit = false
